import{i as l}from"./index-483aaf6b.js";const i="https://api.cnapss.com/api".replace(/\/$/,"");async function o(t){try{return await l(t)}catch{return null}}async function p({school:t,mode:n,q:r="",page:s=1,limit:m=20,sort:c="recent"}={}){{const a=new URL(`${i}/${t}/posts`);a.searchParams.set("board","academic"),(n==="general"||n==="looking_for")&&a.searchParams.set("mode",n),r&&a.searchParams.set("q",r),a.searchParams.set("page",String(s)),a.searchParams.set("limit",String(m)),a.searchParams.set("sort",String(c));const e=await o(a);if(e)return e}{const a=new URL(`${i}/public/${t}/career-posts`);r&&a.searchParams.set("q",r),a.searchParams.set("page",String(s)),a.searchParams.set("limit",String(m)),a.searchParams.set("sort",String(c==="recent"?"new":c));const e=await o(a);if(e)return e}{const a=new URL(`${i}/public/${t}/posts`);r&&a.searchParams.set("q",r),a.searchParams.set("page",String(s)),a.searchParams.set("limit",String(m)),a.searchParams.set("sort",String(c==="recent"?"new":c));const e=await o(a);if(e)return e}throw new Error("Academic list endpoint not available")}async function P({school:t,id:n}){{const r=`${i}/${t}/posts/${n}`,s=await o(r);if(s)return s}{const r=`${i}/public/${t}/posts/${n}`,s=await o(r);if(s)return s}throw new Error("Academic detail endpoint not available")}export{P as g,p as l};
