const n="https://api.cnapss.com/api",i=async s=>{const o=s?`?school=${encodeURIComponent(s)}`:"",t=await fetch(`${n}/posts${o}`);if(!t.ok)throw new Error("Failed to fetch posts");return t.json()},d=async s=>{const o=await fetch(`${n}/posts/${s}`),t=await o.json();if(!o.ok)throw new Error(t.message||"Failed to load post");return t},p=async({email:s,nickname:o,title:t,content:e,school:r})=>{const a=await fetch(`${n}/posts`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:s,nickname:o,title:t,content:e,school:r})}),c=await a.json();if(!a.ok)throw new Error(c.message||"Failed to create post");return c},h=async(s,{email:o,title:t,content:e})=>{const r=await fetch(`${n}/posts/${s}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:o,title:t,content:e})}),a=await r.json();if(!r.ok)throw new Error(a.message||"Failed to update post");return a},w=async(s,o)=>{const t=await fetch(`${n}/posts/${s}`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:o})}),e=await t.json();if(!t.ok)throw new Error(e.message||"Failed to delete post");return e},f=async(s,o)=>{const t=await fetch(`${n}/posts/${s}/thumbs`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:o})}),e=await t.json();if(!t.ok)throw new Error(e.message||"Failed to toggle like");return e},m=async(s,o)=>{const t=o?`?school=${encodeURIComponent(o)}`:"",e=await fetch(`${n}/posts/liked/${encodeURIComponent(s)}${t}`);if(!e.ok)throw new Error("Failed to fetch liked posts");return e.json()},y=async(s,o)=>{const t=o?`?school=${encodeURIComponent(o)}`:"",e=await fetch(`${n}/posts/commented/${encodeURIComponent(s)}${t}`);if(!e.ok)throw new Error("Failed to fetch commented posts");return e.json()};export{m as a,y as b,p as c,d,w as e,i as f,f as t,h as u};
