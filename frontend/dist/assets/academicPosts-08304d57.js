import{g as d,p as m,b as U,d as R}from"./http-a6fe908c.js";function l(n={}){const e=new URLSearchParams;Object.entries(n).forEach(([s,t])=>{t==null||t===""||e.set(s,String(t))});const o=e.toString();return o?`?${o}`:""}function P({school:n,page:e,limit:o,q:s,sort:t}={}){const c=l({page:e,limit:o,q:s,sort:t});return d(`/public/${encodeURIComponent(n)}/posts${c}`)}function b({school:n,id:e}){return d(`/public/${encodeURIComponent(n)}/posts/${encodeURIComponent(e)}`)}async function g({school:n,title:e,content:o,images:s}){const t={title:e,content:o,images:s},c=encodeURIComponent(n),i=[`/${c}/posts`,`/${c}/freeboard/posts`,`/${c}/post`,`/${c}/freeboard`];let r;for(const u of i)try{return await m(u,t)}catch(a){if((a==null?void 0:a.status)!==404)throw a;r=a}throw r||new Error("Create post failed: no route matched.")}function y({school:n,id:e}){return d(`/${encodeURIComponent(n)}/posts/${encodeURIComponent(e)}`)}function h({school:n,id:e,title:o,content:s}){return U(`/${encodeURIComponent(n)}/posts/${encodeURIComponent(e)}`,{title:o,content:s})}function A({school:n,id:e}){return R(`/${encodeURIComponent(n)}/posts/${encodeURIComponent(e)}`)}function w({school:n,id:e,dir:o}){return m(`/${encodeURIComponent(n)}/posts/${encodeURIComponent(e)}/vote`,{dir:o})}function C(n={}){const e=new URLSearchParams;Object.entries(n).forEach(([s,t])=>{t!=null&&(typeof t=="string"&&t.trim()===""||e.set(s,String(t)))});const o=e.toString();return o?`?${o}`:""}async function S({school:n,page:e=1,limit:o=20,q:s="",sort:t="new",type:c="",kind:i=""}){const r=c==="all"?"":c,u=C({page:e,limit:o,q:s,sort:t,type:r||void 0,kind:r==="seeking"&&i||void 0});return d(`/public/${encodeURIComponent(n)}/academic-posts${u}`)}async function E({school:n,id:e}){return d(`/public/${encodeURIComponent(n)}/academic-posts/${encodeURIComponent(e)}`)}async function J({school:n,id:e}){return d(`/${encodeURIComponent(n)}/academic-posts/${encodeURIComponent(e)}`)}async function j({school:n,title:e,content:o="",postType:s,type:t,mode:c,kind:i,tags:r,images:u,courseName:a,professor:f,materials:$}){const p={title:e,content:o,postType:s,type:t,mode:c,kind:i,tags:r,images:u};return i==="course_materials"&&(p.courseName=a??e,f&&(p.professor=f),Array.isArray($)&&(p.materials=$)),m(`/${encodeURIComponent(n)}/academic-posts`,p)}async function k({school:n,id:e}){return R(`/${encodeURIComponent(n)}/academic-posts/${encodeURIComponent(e)}`)}function q({school:n,id:e,dir:o}){return m(`/${encodeURIComponent(n)}/academic-posts/${encodeURIComponent(e)}/vote`,{dir:o})}export{S as a,j as b,g as c,b as d,y as e,A as f,P as g,E as h,J as i,k as j,q as k,h as u,w as v};
