import{u as f,a as h,b as E,r,R as e,N as b,L as t}from"./index-97226d42.js";import{M as N,T as g,a as y,P as w}from"./leaflet-231b45da.js";function C(){const p=f(),{user:o}=h(),{school:n,schoolTheme:a,loading:u}=E(),[c,x]=r.useState([]),m="https://api.cnapss.com/api",s=r.useMemo(()=>({lat:40.7291,lon:-73.9965}),[]);return u?null:n?(r.useEffect(()=>{(async()=>{try{const d=await(await fetch(`${m}/posts`)).json();Array.isArray(d)&&x(d.slice(0,5))}catch(i){console.error("Í≤åÏãúÍ∏Ä Î°úÎî© Ïã§Ìå®:",i)}})()},[m]),e.createElement("div",{className:"min-h-screen",style:{backgroundColor:a.bg}},e.createElement("div",{className:"w-full max-w-screen-xl mx-auto flex flex-col lg:flex-row gap-8 px-6 py-12"},e.createElement("aside",{className:"w-full lg:w-72 rounded-2xl p-6 shadow-md border border-sand bg-white/80 backdrop-blur-md shrink-0"},e.createElement("div",{className:"text-center"},e.createElement("div",{className:"w-20 h-20 mx-auto rounded-full",style:{backgroundColor:a.primary}}),e.createElement("p",{className:"mt-4 font-heading text-xl font-bold",style:{color:a.text}},o==null?void 0:o.nickname),e.createElement("p",{className:"text-sm text-gray-500"},n.toUpperCase())),e.createElement("ul",{className:"mt-6 space-y-3 text-sm text-gray-700"},e.createElement("li",null,e.createElement(t,{to:"/myposts",className:"hover:text-softGold transition"},"My Posts")),e.createElement("li",null,e.createElement(t,{to:"/liked",className:"hover:text-softGold transition"},"Liked")),e.createElement("li",null,e.createElement(t,{to:"/commented",className:"hover:text-softGold transition"},"Commented")),e.createElement("li",null,e.createElement(t,{to:"/schedule",className:"hover:text-softGold transition"},"Schedule Grid")),e.createElement("li",null,e.createElement(t,{to:"/market",className:"hover:text-softGold transition"},"Marketplace")),e.createElement("li",null,e.createElement(t,{to:"/foodmap",className:"hover:text-softGold transition"},"Food Map")))),e.createElement("main",{className:"flex-1 flex flex-col gap-6 w-full"},e.createElement("section",{className:"w-full bg-white rounded-2xl p-6 border border-sand shadow-md"},e.createElement("div",{className:"flex items-center justify-between mb-4"},e.createElement(t,{to:"/freeboard"},e.createElement("h2",{className:"font-heading text-2xl font-bold hover:underline cursor-pointer",style:{color:a.text}},"Free Board")),e.createElement(t,{to:"/freeboard",className:"text-sm text-blue-600 hover:underline"},"View All")),c.length>0?e.createElement("ul",{className:"space-y-3"},c.map(l=>e.createElement("li",{key:l._id,className:"bg-white border border-gray-200 rounded-xl px-6 py-4 hover:shadow transition"},e.createElement(t,{to:`/freeboard/${l._id}`,className:"block font-semibold text-gray-900 hover:underline text-base"},l.title),e.createElement("p",{className:"text-xs text-gray-500 mt-1"},new Date(l.createdAt).toLocaleDateString())))):e.createElement("p",{className:"text-sm text-gray-500"},"Latest posts will appear here soon.")),e.createElement("section",{onClick:()=>p("/foodmap"),className:"w-full rounded-2xl p-0 border border-sand shadow-inner cursor-pointer hover:shadow-lg transition bg-white overflow-hidden",style:{backgroundColor:"#f8f5ff"},title:"Go to Food Map"},e.createElement("div",{className:"p-6"},e.createElement("h2",{className:"font-heading text-lg mb-1 font-semibold flex items-center gap-2",style:{color:a.text}},"üçΩÔ∏è Explore Nearby Food",e.createElement("span",{className:"text-xs text-blue-600 underline ml-2"},"Open map")),e.createElement("p",{className:"text-gray-700 text-sm"},"Discover top‚Äërated restaurants and cafes near campus. Click to open the full map.")),e.createElement("div",{className:"h-56 pointer-events-none select-none"},e.createElement(N,{center:[s.lat,s.lon],zoom:15,style:{height:"100%",width:"100%"},attributionControl:!1,zoomControl:!1},e.createElement(g,{attribution:"¬© OpenStreetMap contributors",url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),e.createElement(y,{position:[s.lat,s.lon]},e.createElement(w,null,"Campus Center"))))))))):e.createElement(b,{to:"/select-school"})}export{C as default};
