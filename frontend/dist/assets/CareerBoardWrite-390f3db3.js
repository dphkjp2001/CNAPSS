import{a as b,u as E,c as h,b as N,r as o,R as e,A as v}from"./index-6d921834.js";import{c as w}from"./careerPosts-5564411b.js";import"./http-08c7d507.js";function D(){const{user:n}=b(),{school:m,schoolTheme:r}=E(),l=h(),c=N(),[a,y]=o.useState(""),[s,f]=o.useState(""),[i,u]=o.useState(""),d=o.useMemo(()=>!!(a.trim()&&s.trim()),[a,s]),x=o.useCallback(async()=>{if(!(!d||!n))try{u(""),await w({title:a.trim(),content:s.trim(),school:m}),alert("Post submitted!"),c(l("/career"))}catch(t){console.error("Career post creation error:",t);const p=(t==null?void 0:t.message)||"Unexpected error occurred.";u(p),alert(p)}},[d,n,a,s,m,c,l]),g=t=>{(t.metaKey||t.ctrlKey)&&t.key==="Enter"&&(t.preventDefault(),x())};return n?e.createElement("div",{className:"min-h-screen px-4 py-6 sm:px-6",style:{backgroundColor:(r==null?void 0:r.bg)||"#f6f3ff"}},e.createElement("div",{className:"mx-auto max-w-3xl"},e.createElement("div",{className:"overflow-hidden rounded-2xl border border-gray-200 bg-white shadow-sm"},e.createElement("div",{className:"border-b border-gray-100 p-5 sm:p-6"},e.createElement("h1",{className:"text-2xl font-bold text-gray-900"},"New Career Post"),e.createElement("p",{className:"mt-1 text-sm text-gray-500"},"Discuss internships, careers, or academic planning with your campus community.")),e.createElement("form",{onSubmit:t=>t.preventDefault(),className:"space-y-5 p-5 sm:p-6"},e.createElement("div",null,e.createElement("label",{className:"block text-sm font-medium text-gray-900"},"Title"),e.createElement("input",{type:"text",value:a,onChange:t=>y(t.target.value),onKeyDown:g,placeholder:"Enter a title",className:"mt-2 w-full rounded-xl border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 placeholder:text-gray-400 shadow-sm focus:border-gray-900 focus:outline-none focus:ring-2 focus:ring-gray-900/10",required:!0,"aria-label":"post title"})),e.createElement("div",null,e.createElement("label",{className:"block text-sm font-medium text-gray-900"},"Content"),e.createElement("textarea",{value:s,onChange:t=>f(t.target.value),onKeyDown:g,placeholder:"Write your content here...",rows:10,className:"mt-2 w-full resize-y rounded-xl border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 placeholder:text-gray-400 shadow-sm focus:border-gray-900 focus:ring-2 focus:ring-gray-900/10",required:!0,"aria-label":"post content"}),e.createElement("p",{className:"mt-1 text-xs text-gray-500"},"Tip: Keep it concise and respectful. No personal information.")),i&&e.createElement("div",{className:"rounded-xl border border-red-200 bg-red-50 p-3 text-xs text-red-700"},i),e.createElement("div",{className:"flex items-center justify-end gap-2"},e.createElement("button",{onClick:()=>c(l("/career")),className:"rounded-xl border px-4 py-2 text-sm hover:bg-gray-50"},"Cancel"),e.createElement(v,{onClick:x,loadingText:"Posting...",className:"rounded-xl px-4 py-2 text-sm text-white",style:{backgroundColor:(r==null?void 0:r.primary)||"#111827"}},"Post")))))):e.createElement("div",{className:"min-h-screen flex items-center justify-center text-sm text-gray-600",style:{backgroundColor:(r==null?void 0:r.bg)||"#f6f3ff"}},"Loading user informationâ€¦")}export{D as default};
