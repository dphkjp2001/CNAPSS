import{f as x,u as b,a as E,b as y,c as N,r as o,R as e}from"./index-b74680e1.js";import{f as v,u as P}from"./posts-a3317476.js";function C(){const{id:a}=x(),l=b(),{user:d}=E(),{school:r}=y(),c=N(),[s,u]=o.useState({title:"",content:""}),[p,f]=o.useState(!0),[m,h]=o.useState("");o.useEffect(()=>{(async()=>{try{const t=await v(a,r);u({title:t.title,content:t.content})}catch(t){h(t.message)}finally{f(!1)}})()},[a,r]);const i=n=>{u(t=>({...t,[n.target.name]:n.target.value}))},g=async n=>{n.preventDefault();try{await P(a,{title:s.title,content:s.content,email:d.email,school:r}),alert("Post updated!"),l(c(`/freeboard/${a}`))}catch(t){alert("Update failed: "+t.message)}};return p?e.createElement("p",null,"Loading post..."):m?e.createElement("p",{className:"text-red-500"},m):e.createElement("div",{className:"p-6 max-w-3xl mx-auto"},e.createElement("h2",{className:"text-2xl font-bold mb-4"},"✏️ Edit Post"),e.createElement("form",{onSubmit:g,className:"space-y-4"},e.createElement("input",{name:"title",value:s.title,onChange:i,placeholder:"Title",className:"w-full border px-3 py-2",required:!0}),e.createElement("textarea",{name:"content",value:s.content,onChange:i,placeholder:"Content",className:"w-full border px-3 py-2 h-40",required:!0}),e.createElement("div",{className:"flex gap-4"},e.createElement("button",{type:"submit",className:"bg-green-500 text-white px-4 py-2 rounded"},"Save Changes"),e.createElement("button",{type:"button",onClick:()=>l(c(`/freeboard/${a}`)),className:"bg-gray-400 text-white px-4 py-2 rounded"},"Cancel"))))}export{C as default};
