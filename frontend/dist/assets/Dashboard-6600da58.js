import{u as ne,a as le,b as oe,c as ce,d as ie,r as d,R as e,e as me}from"./index-23cb31e7.js";import{u as de}from"./uploadToCloudinary-dc971086.js";import{g as ue,c as fe}from"./posts-90861d9a.js";import{g as pe,p as ge}from"./http-3e12da79.js";const Z="https://api.cnapss.com/api".replace(/\/$/,"");async function be({school:a,page:n=1,limit:s=20,q:r="",sort:i="new",type:p="",kind:u=""}){const c=new URL(`${Z}/public/${a}/academic-posts`);return n&&c.searchParams.set("page",String(n)),s&&c.searchParams.set("limit",String(s)),r&&c.searchParams.set("q",r),i&&c.searchParams.set("sort",i),p&&c.searchParams.set("type",p),u&&c.searchParams.set("kind",u),pe(c)}async function V({school:a,title:n,content:s="",postType:r,type:i,mode:p,kind:u="",tags:c=[],images:x=[]}){const h=`${Z}/${a}/academic-posts`;return ge(h,{title:n,content:s,postType:r,type:i,mode:p,kind:u,tags:c,images:x})}const B={pageBg:"#FAFAFA",text:"#0F172A",sub:"#64748B",primary:"#111827",pink:"#FF6B8A",red:"#FF7A70"};function xe(){return e.createElement("svg",{viewBox:"0 0 24 24",width:"24",height:"24","aria-hidden":!0},e.createElement("circle",{cx:"12",cy:"8",r:"4",fill:"#cbd5e1"}),e.createElement("path",{d:"M4 20c0-4 4-6 8-6s8 2 8 6",fill:"#cbd5e1"}))}function ye({value:a,onChange:n}){const s=a==="general",r=d.useRef(null),i=d.useRef(null),[p,u]=d.useState({w:0,x:0}),c=()=>{const x=r.current,h=i.current;if(!x||!h)return;const w=s?x:h,C=w.offsetWidth,k=w.offsetLeft-x.offsetLeft;u({w:C,x:k})};return d.useLayoutEffect(()=>{var h;c();const x=new ResizeObserver(c);return(h=r.current)!=null&&h.parentElement&&x.observe(r.current.parentElement),()=>x.disconnect()},[s]),e.createElement(e.Fragment,null,e.createElement("style",null,`
        @keyframes wiggleScale {
          0% { transform: translateY(0) scale(1); }
          25% { transform: translateY(-2px) scale(1.03); }
          50% { transform: translateY(0.5px) scale(1.01); }
          75% { transform: translateY(-1px) scale(1.02); }
          100% { transform: translateY(0) scale(1); }
        }
      `),e.createElement("div",{className:"w-full flex justify-center"},e.createElement("div",{className:"relative inline-flex items-center gap-8"},e.createElement("span",{"aria-hidden":!0,className:"absolute -bottom-2 h-[3px] rounded-full transition-transform duration-300 ease-out",style:{width:p.w||0,transform:`translateX(${p.x||0}px)`,background:`linear-gradient(90deg, ${B.pink}, ${B.red})`}}),e.createElement("button",{ref:r,type:"button",onClick:()=>n("general"),className:`text-[22px] font-bold flex items-center gap-2 transition-all ${s?"text-slate-900":"text-slate-400 hover:text-slate-600"} ${s?"animate-[wiggleScale_360ms_ease-in-out]":""}`,"aria-pressed":s},e.createElement("span",{"aria-hidden":!0},"💬"),e.createElement("span",null,"General")),e.createElement("button",{ref:i,type:"button",onClick:()=>n("academic"),className:`text-[22px] font-bold flex items-center gap-2 transition-all ${s?"text-slate-400 hover:text-slate-600":"text-slate-900 animate-[wiggleScale_360ms_ease-in-out]"}`,"aria-pressed":!s},e.createElement("span",{"aria-hidden":!0},"🎓"),e.createElement("span",null,"Academic")))))}function he({children:a}){return e.createElement("div",{className:"rounded-2xl bg-white shadow-lg overflow-hidden"},a)}function Ee(a){return a?Array.isArray(a)?a:Array.isArray(a.items)?a.items:Array.isArray(a.data)?a.data:a.data&&Array.isArray(a.data.items)?a.data.items:[]:[]}function X(a){return Ee(a).map(s=>{const r=s._id||s.id,i=s.title||(typeof s.content=="string"?s.content.slice(0,80):"Untitled"),p=s.createdAt||s.updatedAt||new Date().toISOString();return{_id:r,title:i,createdAt:p,raw:s}})}function we(a=""){const n=String(a||"").toLowerCase().replace(/[-\s]/g,"_");return n.includes("course_material")?"📝":n.includes("study_mate")||n.includes("study_group")||n.includes("study")?"👥":n.includes("coffee")?"☕️":""}function ke(a){const n=a.raw||{};let s=(n.postType||n.type||(n.lookingFor?"seeking":"question")||"").toString().toLowerCase().replace("looking_for","seeking");if(!s||s!=="seeking"&&s!=="question"){const i=`${n.title||""} ${n.content||""}`.toLowerCase();s=/seeking|looking\s*for/.test(i)?"seeking":"question"}if(s!=="seeking")return"";const r=n.kind||(Array.isArray(n.tags)?n.tags.find(i=>/materials|study|coffee/i.test(String(i))):"")||(()=>{const i=`${n.title||""} ${n.content||""}`.toLowerCase();return/coffee/.test(i)?"coffee_chat":/study\s*(mate|group)|study\b/.test(i)?"study_mate":/material|syllabus|note|exam|homework|assignment/.test(i)?"course_materials":""})();return we(r)}function ve({post:a,onOpenDetail:n,showBadge:s}){const r=s?ke(a):"";return e.createElement("button",{type:"button",onClick:n,className:"w-full text-left py-4 px-3 hover:bg-slate-50 transition"},e.createElement("div",{className:"flex items-center gap-3"},r?e.createElement("span",{className:"text-[18px] w-6 text-center"},r):e.createElement("span",{className:"w-6"}),e.createElement("div",{className:"h-8 w-8 rounded-full bg-slate-200 flex items-center justify-center"},e.createElement(xe,null)),e.createElement("div",{className:"min-w-0"},e.createElement("div",{className:"truncate font-semibold text-slate-900"},a.title),e.createElement("div",{className:"text-xs text-slate-500"},"Posted by anonymous • ",new Date(a.createdAt).toLocaleString()))))}function Ne({title:a,setTitle:n,active:s,mode:r}){return e.createElement("div",{className:"flex items-center gap-3 p-4 border-b border-slate-200"},e.createElement("div",{className:"shrink-0 h-10 w-10 rounded-full bg-slate-200 flex items-center justify-center"},e.createElement("svg",{viewBox:"0 0 24 24",width:"24",height:"24","aria-hidden":!0},e.createElement("circle",{cx:"12",cy:"8",r:"4",fill:"#cbd5e1"}),e.createElement("path",{d:"M4 20c0-4 4-6 8-6s8 2 8 6",fill:"#cbd5e1"}))),e.createElement("div",{className:"flex-1"},e.createElement("input",{value:a,onChange:i=>n(i.target.value),placeholder:s==="general"?"Write a catchy title for your post…":r==="question"?"Ask an academic/career question…":"Seeking… (short title)",className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-[15px] font-semibold text-slate-900 focus:outline-none focus:ring-2 focus:ring-slate-900/10 focus:border-slate-900"}),e.createElement("p",{className:"mt-1 text-xs text-slate-500"},"Posting as ",e.createElement("span",{className:"font-medium"},"anonymous"))))}function Se({value:a,onSubmit:n,onReset:s}){const[r,i]=d.useState(a);d.useEffect(()=>i(a),[a]);const p=u=>{u.preventDefault(),n(r)};return e.createElement("form",{onSubmit:p,className:"mx-auto mt-5 w-full max-w-[700px] rounded-full shadow-[0_6px_24px_rgba(0,0,0,0.06)] bg-white border border-slate-200 overflow-hidden"},e.createElement("div",{className:"grid grid-cols-[1fr_auto] items-stretch"},e.createElement("div",{className:"px-5 py-3"},e.createElement("div",{className:"text-[11px] font-semibold text-slate-500"},"Keyword"),e.createElement("input",{value:r.q||"",onChange:u=>i({q:u.target.value}),placeholder:"Search posts…",className:"w-full bg-transparent text-[14px] focus:outline-none"})),e.createElement("div",{className:"flex items-center gap-2 px-3"},e.createElement("button",{type:"button",onClick:()=>s(),className:"px-3 py-2 rounded-full text-sm text-slate-700 hover:bg-slate-100"},"Reset"),e.createElement("button",{type:"submit",className:"px-4 py-2 rounded-full bg-black text-white text-sm font-semibold"},"Search"))))}function _e({value:a,onSubmit:n,onReset:s}){const[r,i]=d.useState(a),[p,u]=d.useState(!1),c=d.useRef(null),[x,h]=d.useState({left:0,top:0,width:0,bottom:0});d.useEffect(()=>i(a),[a]);const w=()=>{const t=c.current;if(!t)return;const g=t.getBoundingClientRect();h({left:g.left,top:g.top,width:g.width,bottom:g.bottom})};d.useLayoutEffect(()=>{w();const t=()=>w();return window.addEventListener("resize",t),window.addEventListener("scroll",t,!0),()=>{window.removeEventListener("resize",t),window.removeEventListener("scroll",t,!0)}},[]),d.useEffect(()=>{const t=v=>{var E,L;!p||c.current&&c.current.contains(v.target)||(L=(E=v.target).closest)!=null&&L.call(E,"[data-acad-popover]")||u(!1)},g=v=>v.key==="Escape"&&u(!1);return document.addEventListener("click",t),document.addEventListener("keydown",g),()=>{document.removeEventListener("click",t),document.removeEventListener("keydown",g)}},[p]);const C=t=>{t.preventDefault(),n(r),u(!1)},k=t=>i(g=>({...g,...t})),q=[{key:"course_planning",label:"Course planning",emoji:"📚",desc:"What to take / prereqs"},{key:"homework_help",label:"Homework help",emoji:"🧩",desc:"Concepts & hints (no full answers)"},{key:"exam_prep",label:"Exam prep",emoji:"📝",desc:"Study strategies / past exams"},{key:"internships",label:"Internships",emoji:"💼",desc:"Applications / referrals / experiences"},{key:"job_search",label:"Job search",emoji:"💻",desc:"Interviews / resume / networking"},{key:"visa_opt_cpt",label:"Visa · OPT · CPT",emoji:"🪪",desc:"International student topics"},{key:"housing",label:"Housing",emoji:"🏠",desc:"On/off campus housing"},{key:"scholarships",label:"Scholarships",emoji:"🎓",desc:"Aid / scholarships / grants"}],F=()=>me.createPortal(e.createElement("div",{"data-acad-popover":!0,className:"z-50 fixed",style:{left:Math.round(x.left),top:Math.round(x.bottom+8),width:Math.round(x.width),maxWidth:860}},e.createElement("div",{className:"rounded-3xl bg-white shadow-2xl border border-slate-200 overflow-hidden"},e.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-[280px_1fr]"},e.createElement("div",{className:"p-4 border-b sm:border-b-0 sm:border-r border-slate-200"},e.createElement("div",{className:"text-[12px] font-semibold text-slate-500 mb-2"},"Type"),e.createElement("div",{className:"flex sm:block"},[{key:"all",label:"All"},{key:"question",label:"General Question ﹖"},{key:"seeking",label:"Seeking"}].map(t=>{const g=r.type===t.key||!r.type&&t.key==="all";return e.createElement("button",{key:t.key,type:"button",onClick:()=>k({type:t.key,kind:t.key==="seeking"?r.kind&&["course_materials","study_mate","coffee_chat"].includes(r.kind)?r.kind:"course_materials":""}),className:`w-full text-left px-3 py-2 rounded-xl text-[14px] transition ${g?"bg-slate-900 text-white":"hover:bg-slate-50 text-slate-800"}`},t.label)}))),e.createElement("div",{className:"p-4"},r.type==="seeking"?e.createElement(e.Fragment,null,e.createElement("div",{className:"text-[12px] font-semibold text-slate-500 mb-2"},"Seeking · kind"),[{key:"course_materials",label:"Course Materials",emoji:"📝",desc:"Syllabus, notes, exams…"},{key:"study_mate",label:"Study Mate",emoji:"👥",desc:"Find peers to study together"},{key:"coffee_chat",label:"Coffee Chat",emoji:"☕️",desc:"Casual chat / mentoring"}].map(t=>{const g=r.kind===t.key;return e.createElement("button",{key:t.key,type:"button",onClick:()=>k({kind:t.key,type:"seeking"}),className:`w-full flex items-start gap-3 rounded-2xl border px-3 py-3 mb-2 text-left transition ${g?"border-slate-900 bg-slate-50":"border-slate-300 hover:bg-slate-50"}`},e.createElement("span",{className:"text-xl leading-6"},t.emoji),e.createElement("span",null,e.createElement("div",{className:"font-medium"},t.label),e.createElement("div",{className:"text-[12px] text-slate-500"},t.desc)))}),e.createElement("div",{className:"pt-2 flex justify-end"},e.createElement("button",{type:"button",onClick:()=>{s(),u(!1)},className:"px-3 py-2 rounded-xl text-sm text-slate-700 hover:bg-slate-100 mr-2"},"Reset"),e.createElement("button",{type:"button",onClick:()=>{n(r),u(!1)},className:"px-4 py-2 rounded-xl bg-black text-white text-sm font-semibold"},"Apply"))):r.type==="question"?e.createElement(e.Fragment,null,e.createElement("div",{className:"text-[12px] font-semibold text-slate-500 mb-2"},"Question · topic"),e.createElement("div",{className:"max-h-[280px] overflow-auto pr-1"},q.map(t=>{const g=r.kind===t.key;return e.createElement("button",{key:t.key,type:"button",onClick:()=>k({kind:t.key,type:"question"}),className:`w-full flex items-start gap-3 rounded-2xl border px-3 py-3 mb-2 text-left transition ${g?"border-slate-900 bg-slate-50":"border-slate-300 hover:bg-slate-50"}`},e.createElement("span",{className:"text-xl leading-6"},t.emoji),e.createElement("span",null,e.createElement("div",{className:"font-medium"},t.label),e.createElement("div",{className:"text-[12px] text-slate-500"},t.desc)))})),e.createElement("div",{className:"pt-2 flex justify-end"},e.createElement("button",{type:"button",onClick:()=>{s(),u(!1)},className:"px-3 py-2 rounded-xl text-sm text-slate-700 hover:bg-slate-100 mr-2"},"Reset"),e.createElement("button",{type:"button",onClick:()=>{n(r),u(!1)},className:"px-4 py-2 rounded-xl bg-black text-white text-sm font-semibold"},"Apply"))):e.createElement("div",{className:"text-[13px] text-slate-500"},"Choose a type on the left to refine your search."))))),document.body);return e.createElement("div",{className:"mx-auto mt-5 w-full max-w-[860px]",ref:c},e.createElement("form",{onSubmit:C,className:"rounded-full shadow-[0_6px_24px_rgba(0,0,0,0.06)] bg-white border border-slate-200 overflow-hidden"},e.createElement("div",{className:"grid grid-cols-[1.2fr_0.9fr_auto] items-stretch"},e.createElement("div",{className:"px-5 py-3 border-r"},e.createElement("div",{className:"text-[11px] font-semibold text-slate-500"},"Keyword"),e.createElement("input",{value:r.q||"",onChange:t=>k({q:t.target.value}),placeholder:"Search academic posts…",className:"w-full bg-transparent text-[14px] focus:outline-none"})),e.createElement("button",{type:"button",onClick:()=>{w(),u(!0)},className:"px-5 text-left py-3 border-r hover:bg-slate-50"},e.createElement("div",{className:"text-[11px] font-semibold text-slate-500"},"Type"),e.createElement("div",{className:"text-[14px]"},r.type==="seeking"?"Seeking":r.type==="question"?"General Question":"All")),e.createElement("div",{className:"flex items-center gap-2 px-3"},e.createElement("button",{type:"button",onClick:()=>{s(),u(!1)},className:"px-3 py-2 rounded-full text-sm text-slate-700 hover:bg-slate-100"},"Reset"),e.createElement("button",{type:"submit",className:"px-4 py-2 rounded-full bg-black text-white text-sm font-semibold"},"Search")))),p&&e.createElement(F,null))}function Pe(){const a=ne(),n=le(),{school:s}=oe(),{user:r}=ce(),i=ie(),p=!!r,u=s||"nyu",[c,x]=d.useState("general"),[h,w]=d.useState({loading:!0,items:[],error:""}),[C,k]=d.useState({loading:!0,items:[],error:""}),[q,F]=d.useState(""),[t,g]=d.useState(""),[v,M]=d.useState([]),[E,L]=d.useState("question"),[A,O]=d.useState("course_materials"),[I,U]=d.useState(!1),[T,P]=d.useState({type:"",text:""});d.useEffect(()=>{const l=(new URLSearchParams(n.search).get("tab")||"").toLowerCase();l==="free"?x("general"):l==="academic"&&x("academic")},[n.search]),d.useEffect(()=>{let o=!0;async function l(){w({loading:!0,items:[],error:""}),k({loading:!0,items:[],error:""});try{const[b,m]=await Promise.all([ue({school:u,limit:50,sort:"new"}),be({school:u,limit:50,sort:"new"})]);if(!o)return;const f=X(b),y=X(m);w({loading:!1,items:f,error:f.length?"":"No posts yet."}),k({loading:!1,items:y,error:y.length?"":"No posts yet."})}catch(b){if(!o)return;const m=(b==null?void 0:b.message)||"Failed to load posts.";w({loading:!1,items:[],error:m}),k({loading:!1,items:[],error:m})}}return l(),()=>{o=!1}},[u]);const[D,G]=d.useState({q:""}),[j,Q]=d.useState({q:"",type:"all",kind:""}),ee=d.useMemo(()=>{const{q:o}=D;let l=h.items;if(o){const b=o.toLowerCase();l=l.filter(m=>{var f;return m.title.toLowerCase().includes(b)||(((f=m.raw)==null?void 0:f.content)||"").toLowerCase().includes(b)})}return l},[h.items,D]),te=d.useMemo(()=>{const{q:o,type:l,kind:b}=j;let m=C.items;if(o){const f=o.toLowerCase();m=m.filter(y=>{var N;return y.title.toLowerCase().includes(f)||(((N=y.raw)==null?void 0:N.content)||"").toLowerCase().includes(f)})}if(l!=="all"&&(m=m.filter(f=>{var N,S,_;const y=((N=f.raw)==null?void 0:N.postType)||((S=f.raw)==null?void 0:S.type)||((_=f.raw)!=null&&_.lookingFor?"seeking":"question");return String(y).toLowerCase().replace("looking_for","seeking")===l})),l==="seeking"&&b&&(m=m.filter(f=>{var S,_;const y=(((S=f.raw)==null?void 0:S.kind)||(Array.isArray((_=f.raw)==null?void 0:_.tags)?f.raw.tags.join(" "):"")||"").toLowerCase(),N=String(b).replace(/_/g," ");return y.includes(N)})),l==="question"&&b){const f=String(b).replace(/_/g," ").toLowerCase();m=m.filter(y=>{var S,_,H,J;return[(S=y.raw)==null?void 0:S.topic,(_=y.raw)==null?void 0:_.category,(H=y.raw)==null?void 0:H.kind,...Array.isArray((J=y.raw)==null?void 0:J.tags)?y.raw.tags:[]].filter(Boolean).join(" ").toLowerCase().includes(f)})}return m},[C.items,j]),R=c==="general"?{...h,items:ee}:{...C,items:te},$=o=>a(i(o)),K=()=>$("/dashboard?tab=free"),z=()=>$("/dashboard?tab=academic"),ae=o=>{var m,f;const l=((m=o.raw)==null?void 0:m._id)||o._id||((f=o.raw)==null?void 0:f.id)||o.id;if(!l)return c==="general"?K:z();const b=i(c==="general"?`/freeboard/${l}`:`/academic/${l}`);a(b)},W=p&&q.trim()&&(t.trim()||v.length),Y=p&&q.trim()&&(E==="question"?t.trim():!0),se=async o=>{const l=[];for(const b of o)try{const m=await de(b);(m!=null&&m.secure_url||m!=null&&m.url)&&l.push(m.secure_url||m.url)}catch{}return l},re=async o=>{if(o.preventDefault(),P({type:"",text:""}),!p){P({type:"error",text:"Login required to post."});return}U(!0);try{if(c==="general"){if(!W)throw new Error("Missing fields");let l=[];v.length&&(l=await se(v)),await fe({school:u,title:q.trim(),content:t.trim(),images:l}),P({type:"success",text:"Posted to Freeboard! Redirecting…"}),setTimeout(K,400)}else{if(!Y)throw new Error("Missing fields");const l={school:u,title:q.trim(),content:t.trim()};E==="question"?await V({...l,postType:"question"}):await V({...l,postType:"seeking",kind:A,tags:["seeking",A]}),P({type:"success",text:"Posted to Academic! Redirecting…"}),setTimeout(z,400)}F(""),g(""),M([]),L("question"),O("course_materials")}catch(l){P({type:"error",text:(l==null?void 0:l.message)||"Failed to post. Please check required fields."})}finally{U(!1)}};return e.createElement("div",{className:"min-h-screen",style:{background:B.pageBg}},e.createElement("main",{className:"mx-auto max-w-6xl px-4 py-6 grid grid-cols-1 md:grid-cols-[minmax(620px,700px)_380px] gap-10"},e.createElement("section",{className:"md:col-start-1"},e.createElement(ye,{value:c,onChange:x}),c==="general"?e.createElement(Se,{value:D,onSubmit:G,onReset:()=>G({q:""})}):e.createElement(_e,{value:{q:j.q,type:j.type,kind:j.kind},onSubmit:Q,onReset:()=>Q({q:"",type:"all",kind:""})}),R.loading?e.createElement("ul",{className:"mt-4 space-y-3"},Array.from({length:10}).map((o,l)=>e.createElement("li",{key:l,className:"h-16 rounded-xl bg-white/70 border border-slate-200 animate-pulse"}))):R.items.length?e.createElement("ul",{className:"mt-5 mx-auto max-w-[700px] px-2"},R.items.map(o=>e.createElement("li",{key:o._id||Math.random()},e.createElement("div",{className:"mx-6 border-b border-slate-300/80"},e.createElement(ve,{post:o,onOpenDetail:()=>ae(o),showBadge:c==="academic"}))))):e.createElement("div",{className:"mx-auto max-w-[700px] text-center py-16"},e.createElement("p",{className:"text-[15px] text-slate-600"},R.error||"No posts yet."),e.createElement("button",{type:"button",onClick:c==="general"?()=>$("/dashboard?tab=free"):()=>$("/dashboard?tab=academic"),className:"mt-4 px-4 py-2 rounded-xl bg-black text-white text-[14px] font-semibold"},"Open ",c==="general"?"Freeboard":"Academic Board"))),e.createElement("aside",{className:"md:col-start-2 md:sticky md:top-[24px] self-start"},e.createElement(he,null,e.createElement("form",{onSubmit:re},Ne,e.createElement("div",{className:"p-4 space-y-4"},c==="academic"&&e.createElement("div",{className:"flex items-center gap-2"},e.createElement("button",{type:"button",onClick:()=>L("question"),className:`px-3 py-1.5 rounded-full text-sm border ${E==="question"?"bg-slate-900 text-white border-slate-900":"bg-white text-slate-700 border-slate-300 hover:bg-slate-50"}`,"aria-pressed":E==="question"},"General question"),e.createElement("button",{type:"button",onClick:()=>L("seeking"),className:`px-3 py-1.5 rounded-full text-sm border ${E==="seeking"?"bg-slate-900 text-white border-slate-900":"bg-white text-slate-700 border-slate-300 hover:bg-slate-50"}`,"aria-pressed":E==="seeking"},"Seeking 📥"),E==="seeking"&&e.createElement("select",{value:A,onChange:o=>O(o.target.value),className:"ml-2 rounded-full border border-slate-300 px-3 py-1.5 text-sm"},e.createElement("option",{value:"course_materials"},"Course Materials"),e.createElement("option",{value:"study_mate"},"Study Mate"),e.createElement("option",{value:"coffee_chat"},"Coffee Chat"))),e.createElement("textarea",{value:t,onChange:o=>g(o.target.value),placeholder:c==="general"?"Write your content here…":E==="question"?"Describe your academic/career question…":A==="course_materials"?"Describe what you need or any context…":A==="study_mate"?"Describe schedule, level, topic…":"Say hello and what you'd like to chat about…",className:"w-full min-h-[120px] rounded-xl border border-slate-300 px-3 py-2 text-[14px] text-slate-800 focus:outline-none focus:ring-2 focus:ring-slate-900/10 focus:border-slate-900"}),c==="general"&&e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"block text-sm font-medium text-slate-700"},"Images"),e.createElement("input",{type:"file",accept:"image/*",multiple:!0,onChange:o=>M(Array.from(o.target.files||[])),className:"block w-full text-sm file:mr-3 file:rounded-lg file:border file:border-slate-300 file:bg-white file:px-3 file:py-2 file:text-sm file:text-slate-700 hover:file:bg-slate-50"}),!!v.length&&e.createElement("div",{className:"grid grid-cols-3 gap-2"},v.map((o,l)=>e.createElement("div",{key:l,className:"h-24 rounded-lg overflow-hidden border border-slate-200"},e.createElement("img",{src:URL.createObjectURL(o),alt:`selected-${l}`,className:"h-full w-full object-cover"}))))),e.createElement("div",{className:"flex items-center justify-between pt-2"},e.createElement("p",{className:"text-[12px] text-slate-500"},"Posting to"," ",e.createElement("strong",null,c==="general"?"Freeboard":E==="question"?"Academic":`Seeking: ${A==="course_materials"?"Course Materials":A==="study_mate"?"Study Mate":"Coffee Chat"}`),"."),e.createElement("button",{type:"submit",disabled:I||(c==="general"?!W:!Y),className:"rounded-xl bg-black px-4 py-2 text-sm font-semibold text-white hover:bg-neutral-900 disabled:opacity-60"},I?"Posting…":"Post")),!!T.text&&e.createElement("div",{className:`text-sm rounded-lg px-3 py-2 ${T.type==="success"?"bg-green-50 text-green-700 border border-green-200":"bg-red-50 text-red-700 border-red-200"}`},T.text)))))))}export{Pe as default};
