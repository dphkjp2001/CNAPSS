import{R as s}from"./index-c2238d46.js";import{g as h,p as f}from"./http-b5e27cd5.js";const u=["bg-red-200","bg-yellow-200","bg-green-200","bg-blue-200","bg-indigo-200","bg-purple-200","bg-pink-200","bg-orange-200","bg-teal-200"],m=["MON","TUE","WED","THU","FRI"],x=8,$=21,g=15;function y(){const r=[];for(let n=x;n<$;n++)for(let t=0;t<60;t+=g)r.push(`${n.toString().padStart(2,"0")}:${t.toString().padStart(2,"0")}`);return r}function b(r){const[n,t]=r.split(":").map(Number);return(n-x)*(60/g)+Math.floor(t/g)}function N({schedules:r,onRemove:n}){const t=y(),l=e=>m.indexOf(e),d=e=>{const a=e||"";let o=0;for(let c=0;c<a.length;c++)o=a.charCodeAt(c)+((o<<5)-o);const i=Math.abs(o)%u.length;return u[i]};return s.createElement("div",{className:"relative overflow-x-auto"},s.createElement("div",{className:"grid border border-gray-200",style:{gridTemplateColumns:`80px repeat(${m.length}, 1fr)`,gridTemplateRows:`40px repeat(${t.length}, 1fr)`}},s.createElement("div",{style:{gridColumn:1},className:"bg-gray-100 p-1 text-center text-sm font-semibold"},"Time"),m.map((e,a)=>s.createElement("div",{key:e,style:{gridColumn:a+2},className:"border-l border-gray-200 bg-gray-100 p-1 text-center text-sm font-semibold"},e)),t.map((e,a)=>s.createElement("div",{key:`time-${a}`,style:{gridColumn:1,gridRow:a+2,borderTop:e.endsWith(":00")?"1px solid #666":"1px solid #e5e7eb",borderRight:"1px solid #e5e7eb"},className:`pr-2 pt-[2px] text-right text-xs ${e.endsWith(":00")?"font-medium text-gray-800":"text-gray-400"}`},e.endsWith(":00")?e:"")),t.map((e,a)=>m.map((o,i)=>s.createElement("div",{key:`cell-${i}-${a}`,style:{gridColumn:i+2,gridRow:a+2,borderTop:e.endsWith(":00")?"1px solid #666":"1px solid #e5e7eb",borderLeft:"1px solid #f3f4f6"}}))),r.map((e,a)=>{const o=l(e.day)+2,i=b(e.start)+2,c=b(e.end)+2;return s.createElement("div",{key:`${e.day}-${e.start}-${e.class_number||a}`,style:{gridColumn:o,gridRow:`${i} / ${c}`,margin:"1px"},className:`${d(e.label)} rounded p-1 text-black shadow-sm flex`,onDoubleClick:()=>n&&e.class_number&&n(e.class_number),title:`${e.label||""} • ${e.title||""} • ${e.start}-${e.end}`},s.createElement("div",{className:"w-full leading-tight"},s.createElement("div",{className:"text-[12px] font-semibold truncate"},e.label||""),e.title?s.createElement("div",{className:"text-[11px] whitespace-normal break-words"},e.title):null,s.createElement("div",{className:"mt-0.5 text-[10px] opacity-80"},e.start,"–",e.end)))})))}const p="https://api.cnapss.com/api".replace(/\/$/,"");function R({school:r,token:n,semester:t}){const l=new URL(`${p}/${r}/schedule/my`);return l.searchParams.set("semester",t),h(l.toString())}function v({school:r,token:n,semester:t,slots:l}){return f(`${p}/${r}/schedule/my`,{semester:t,slots:l})}function w({school:r,token:n,semester:t,members:l=[],min:d=30}){const e=new URL(`${p}/${r}/schedule/group/free`);return e.searchParams.set("semester",t),l.length&&e.searchParams.set("members",l.join(",")),e.searchParams.set("min",String(d)),h(e.toString())}export{N as S,w as a,R as g,v as s};
