import{e as g,u as h,a as x,r as s,R as e}from"./index-1baf5031.js";import{a as E,u as y}from"./posts-ea4b05b3.js";function v(){const{id:n}=g(),l=h(),{user:u}=x(),[r,o]=s.useState({title:"",content:""}),[i,d]=s.useState(!0),[c,p]=s.useState("");s.useEffect(()=>{(async()=>{try{const t=await E(n);o({title:t.title,content:t.content})}catch(t){p(t.message)}finally{d(!1)}})()},[n]);const m=a=>{o(t=>({...t,[a.target.name]:a.target.value}))},f=async a=>{a.preventDefault();try{await y(n,{title:r.title,content:r.content,email:u.email}),alert("Post updated!"),l(`/freeboard/${n}`)}catch(t){alert("Update failed: "+t.message)}};return i?e.createElement("p",null,"Loading post..."):c?e.createElement("p",{className:"text-red-500"},c):e.createElement("div",{className:"p-6 max-w-3xl mx-auto"},e.createElement("h2",{className:"text-2xl font-bold mb-4"},"✏️ Edit Post"),e.createElement("form",{onSubmit:f,className:"space-y-4"},e.createElement("input",{name:"title",value:r.title,onChange:m,placeholder:"Title",className:"w-full border px-3 py-2",required:!0}),e.createElement("textarea",{name:"content",value:r.content,onChange:m,placeholder:"Content",className:"w-full border px-3 py-2 h-40",required:!0}),e.createElement("div",{className:"flex gap-4"},e.createElement("button",{type:"submit",className:"bg-green-500 text-white px-4 py-2 rounded"},"Save Changes"),e.createElement("button",{type:"button",onClick:()=>l(-1),className:"bg-gray-400 text-white px-4 py-2 rounded"},"Cancel"))))}export{v as default};
