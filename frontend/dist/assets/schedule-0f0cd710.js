import{R as l,k as b,p as f}from"./index-f155d1ba.js";const p=["bg-red-200","bg-yellow-200","bg-green-200","bg-blue-200","bg-indigo-200","bg-purple-200","bg-pink-200","bg-orange-200","bg-teal-200"],d=["MON","TUE","WED","THU","FRI"],$=8,x=21,g=15;function y(){const s=[];for(let r=$;r<x;r++)for(let t=0;t<60;t+=g)s.push(`${r.toString().padStart(2,"0")}:${t.toString().padStart(2,"0")}`);return s}function h(s){const[r,t]=s.split(":").map(Number);return(r-$)*(60/g)+Math.floor(t/g)}function R({schedules:s,onRemove:r}){const t=y(),n=e=>d.indexOf(e),m=e=>{const a=e||"";let o=0;for(let c=0;c<a.length;c++)o=a.charCodeAt(c)+((o<<5)-o);const i=Math.abs(o)%p.length;return p[i]};return l.createElement("div",{className:"relative overflow-x-auto"},l.createElement("div",{className:"grid border border-gray-200",style:{gridTemplateColumns:`80px repeat(${d.length}, 1fr)`,gridTemplateRows:`40px repeat(${t.length}, 1fr)`}},l.createElement("div",{style:{gridColumn:1},className:"bg-gray-100 p-1 text-center text-sm font-semibold"},"Time"),d.map((e,a)=>l.createElement("div",{key:e,style:{gridColumn:a+2},className:"border-l border-gray-200 bg-gray-100 p-1 text-center text-sm font-semibold"},e)),t.map((e,a)=>l.createElement("div",{key:`time-${a}`,style:{gridColumn:1,gridRow:a+2,borderTop:e.endsWith(":00")?"1px solid #666":"1px solid #e5e7eb",borderRight:"1px solid #e5e7eb"},className:`pr-2 pt-[2px] text-right text-xs ${e.endsWith(":00")?"font-medium text-gray-800":"text-gray-400"}`},e.endsWith(":00")?e:"")),t.map((e,a)=>d.map((o,i)=>l.createElement("div",{key:`cell-${i}-${a}`,style:{gridColumn:i+2,gridRow:a+2,borderTop:e.endsWith(":00")?"1px solid #666":"1px solid #e5e7eb",borderLeft:"1px solid #f3f4f6"}}))),s.map((e,a)=>{const o=n(e.day)+2,i=h(e.start)+2,c=h(e.end)+2;return l.createElement("div",{key:`${e.day}-${e.start}-${e.class_number||a}`,style:{gridColumn:o,gridRow:`${i} / ${c}`,margin:"1px"},className:`${m(e.label)} flex items-start justify-start rounded p-1 text-xs text-black shadow-sm`,title:`${e.label||""} ${e.start}-${e.end}`,onDoubleClick:()=>r&&e.class_number&&r(e.class_number)},e.label||"")})))}const u="https://api.cnapss.com/api".replace(/\/$/,"");function T({school:s,token:r,semester:t}){const n=new URL(`${u}/${s}/schedule/my`);return n.searchParams.set("semester",t),b(n.toString(),{headers:{Authorization:`Bearer ${r}`}})}function E({school:s,token:r,semester:t,slots:n}){return f(`${u}/${s}/schedule/my`,{semester:t,slots:n},{headers:{Authorization:`Bearer ${r}`}})}function N({school:s,token:r,semester:t,members:n=[],min:m=30}){const e=new URL(`${u}/${s}/schedule/group/free`);return e.searchParams.set("semester",t),n.length&&e.searchParams.set("members",n.join(",")),e.searchParams.set("min",String(m)),b(e.toString(),{headers:{Authorization:`Bearer ${r}`}})}export{R as S,N as a,T as g,E as s};
