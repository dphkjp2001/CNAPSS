import{u as ue,a as fe,b as pe,c as ge,d as xe,r as n,R as e,e as be}from"./index-05491e16.js";import{u as he}from"./uploadToCloudinary-dc971086.js";import{g as ye,c as Ee}from"./posts-533066e6.js";import{g as ve,c as K}from"./academicPosts-57ceac3c.js";import"./http-b5e27cd5.js";const Q={pageBg:"#FAFAFA",text:"#0F172A",sub:"#64748B",primary:"#111827",pink:"#FF6B8A",red:"#FF7A70"},ke=[{key:"lecture_notes",label:"Lecture Notes"},{key:"syllabus",label:"Syllabus"},{key:"past_exams",label:"Past Exams"},{key:"quiz_prep",label:"Quiz Prep"}],we=(a="")=>String(a).toLowerCase().trim().replace(/[\s_-]+/g,"_"),Ne=(a={})=>{const l=a.postType||a.type||a.mode||(a.lookingFor?"seeking":"question")||"",o=String(l).toLowerCase();return o==="looking_for"||o==="seeking"||o==="lf"?"seeking":"question"},Se=(a={})=>{const l=we(a.kind||"");if(l)return l;const o=[a.kind,...Array.isArray(a.tags)?a.tags:[],a.title,a.content].filter(Boolean).join(" ").toLowerCase();return/(course\s*materials?|syllabus|notes?|exam|midterm|final|assignment|hw|homework)/.test(o)?"course_materials":/(study\s*(mate|group)|\bstudy\b|team\s*up)/.test(o)?"study_mate":/(coffee\s*chat|coffee\s*time|\bchat\b)/.test(o)?"coffee_chat":""};function _e(){return e.createElement("svg",{viewBox:"0 0 24 24",width:"24",height:"24","aria-hidden":!0},e.createElement("circle",{cx:"12",cy:"8",r:"4",fill:"#cbd5e1"}),e.createElement("path",{d:"M4 20c0-4 4-6 8-6s8 2 8 6",fill:"#cbd5e1"}))}function Me({children:a}){return e.createElement("div",{className:"rounded-2xl bg-white shadow-lg overflow-hidden"},a)}function Ce({value:a,onChange:l}){const o=a==="general",i=n.useRef(null),y=n.useRef(null),[d,x]=n.useState({w:0,x:0}),m=()=>{const b=i.current,h=y.current;if(!b||!h)return;const E=o?b:h;x({w:E.offsetWidth,x:E.offsetLeft-b.offsetLeft})};return n.useLayoutEffect(()=>{var h;m();const b=new ResizeObserver(m);return(h=i.current)!=null&&h.parentElement&&b.observe(i.current.parentElement),()=>b.disconnect()},[o]),e.createElement(e.Fragment,null,e.createElement("style",null,`
        @keyframes wiggleScale {
          0% { transform: translateY(0) scale(1); }
          25% { transform: translateY(-2px) scale(1.03); }
          50% { transform: translateY(0.5px) scale(1.01); }
          75% { transform: translateY(-1px) scale(1.02); }
          100% { transform: translateY(0) scale(1); }
        }
      `),e.createElement("div",{className:"w-full flex justify-center"},e.createElement("div",{className:"relative inline-flex items-center gap-8"},e.createElement("span",{"aria-hidden":!0,className:"absolute -bottom-2 h-[3px] rounded-full transition-transform duration-300 ease-out",style:{width:d.w||0,transform:`translateX(${d.x||0}px)`,background:`linear-gradient(90deg, ${Q.pink}, ${Q.red})`}}),e.createElement("button",{ref:i,type:"button",onClick:()=>l("general"),className:`text-[22px] font-bold flex items-center gap-2 transition-all ${o?"text-slate-900":"text-slate-400 hover:text-slate-600"} ${o?"animate-[wiggleScale_360ms_ease-in-out]":""}`,"aria-pressed":o},e.createElement("span",{"aria-hidden":!0},"💬"),e.createElement("span",null,"General")),e.createElement("button",{ref:y,type:"button",onClick:()=>l("academic"),className:`text-[22px] font-bold flex items-center gap-2 transition-all ${o?"text-slate-400 hover:text-slate-600":"text-slate-900 animate-[wiggleScale_360ms_ease-in-out]"}`,"aria-pressed":!o},e.createElement("span",{"aria-hidden":!0},"🎓"),e.createElement("span",null,"Academic")))))}function Ae({post:a,onOpenDetail:l,showBadge:o}){const i=a.raw||{},y=Ne(i),d=Se(i),x=y==="seeking"?d==="course_materials"?"📝":d==="study_mate"?"👥":d==="coffee_chat"?"☕️":"📌":"",m={lecture_notes:"Lecture Notes",syllabus:"Syllabus",past_exams:"Past Exams",quiz_prep:"Quiz Prep"},h=(Array.isArray(i.materials)&&d==="course_materials"?i.materials:[]).map(E=>m[E]||E);return e.createElement("button",{type:"button",onClick:l,className:"w-full text-left py-4 px-3 hover:bg-slate-50 transition"},e.createElement("div",{className:"flex items-start gap-3"},o?e.createElement("span",{className:"text-[18px] w-6 text-center mt-[2px]"},x):e.createElement("span",{className:"w-6"}),e.createElement("div",{className:"h-8 w-8 rounded-full bg-slate-200 flex items-center justify-center mt-[2px]"},e.createElement(_e,null)),e.createElement("div",{className:"min-w-0 flex-1"},e.createElement("div",{className:"flex items-start justify-between gap-3"},e.createElement("div",{className:"truncate font-semibold text-slate-900"},a.title),e.createElement("div",{className:"text-xs text-slate-500 whitespace-nowrap"},new Date(a.createdAt).toLocaleString())),h.length>0&&e.createElement("div",{className:"mt-1 flex flex-wrap gap-1.5"},h.map(E=>e.createElement("span",{key:E,className:"inline-flex items-center rounded-full border border-slate-300 bg-slate-50 px-2.5 py-[3px] text-[11px] text-slate-700"},E))))))}const qe=a=>a?Array.isArray(a)?a:Array.isArray(a.items)?a.items:Array.isArray(a.data)?a.data:a.data&&Array.isArray(a.data.items)?a.data.items:[]:[],oe=a=>qe(a).map(l=>({_id:l._id||l.id,title:l.title||(typeof l.content=="string"?l.content.slice(0,80):"Untitled"),createdAt:l.createdAt||l.updatedAt||new Date().toISOString(),raw:l}));function Le({value:a,onSubmit:l,onReset:o}){const[i,y]=n.useState(a);n.useEffect(()=>y(a),[a]);const d=x=>{x.preventDefault(),l(i)};return e.createElement("form",{onSubmit:d,className:"mx-auto mt-5 w-full max-w-[700px] rounded-full shadow-[0_6px_24px_rgba(0,0,0,0.06)] bg-white border border-slate-200 overflow-hidden"},e.createElement("div",{className:"grid grid-cols-[1fr_auto] items-stretch"},e.createElement("div",{className:"px-5 py-3"},e.createElement("div",{className:"text-[11px] font-semibold text-slate-500"},"Keyword"),e.createElement("input",{value:i.q||"",onChange:x=>y({q:x.target.value}),placeholder:"Search posts…",className:"w-full bg-transparent text-[14px] focus:outline-none"})),e.createElement("div",{className:"flex items-center gap-2 px-3"},e.createElement("button",{type:"button",onClick:()=>o(),className:"px-3 py-2 rounded-full text-sm text-slate-700 hover:bg-slate-100"},"Reset"),e.createElement("button",{type:"submit",className:"px-4 py-2 rounded-full bg-black text-white text-sm font-semibold"},"Search"))))}function Pe({value:a,onSubmit:l,onReset:o}){const[i,y]=n.useState(a),[d,x]=n.useState(!1),[m,b]=n.useState("type"),h=n.useRef(null),[E,P]=n.useState({left:0,top:0,width:0,bottom:0});n.useEffect(()=>y(a),[a]);const L=()=>{const r=h.current;if(!r)return;const p=r.getBoundingClientRect();P({left:p.left,top:p.top,width:p.width,bottom:p.bottom})};n.useLayoutEffect(()=>{L();const r=()=>L();return window.addEventListener("resize",r),window.addEventListener("scroll",r,!0),()=>{window.removeEventListener("resize",r),window.removeEventListener("scroll",r,!0)}},[]),n.useEffect(()=>{const r=k=>{var w,S;d&&(h.current&&h.current.contains(k.target)||(S=(w=k.target).closest)!=null&&S.call(w,"[data-acad-popover]")||(x(!1),b("type")))},p=k=>k.key==="Escape"&&x(!1);return document.addEventListener("click",r),document.addEventListener("keydown",p),()=>{document.removeEventListener("click",r),document.removeEventListener("keydown",p)}},[d]);const j=r=>y(p=>({...p,...r})),R=[{key:"question",title:"General question",desc:"Ask about courses, careers, visa, housing…",icon:e.createElement("svg",{viewBox:"0 0 24 24",width:"20",height:"20",className:"text-slate-700"},e.createElement("circle",{cx:"12",cy:"12",r:"10",fill:"currentColor",opacity:".08"}),e.createElement("path",{d:"M9.5 9.5a2.5 2.5 0 1 1 3.9 2l-.8.5a1.6 1.6 0 0 0-.6 1.2v.3",stroke:"currentColor",strokeWidth:"1.6",fill:"none",strokeLinecap:"round"}),e.createElement("circle",{cx:"12",cy:"16.5",r:"1",fill:"currentColor"}))},{key:"seeking",title:"Seeking",desc:"Find materials, study mates, or coffee chats",icon:e.createElement("svg",{viewBox:"0 0 24 24",width:"20",height:"20",className:"text-slate-700"},e.createElement("rect",{x:"4",y:"5",width:"16",height:"12",rx:"2",fill:"currentColor",opacity:".08"}),e.createElement("path",{d:"M5.5 8h13M7 12h10M9 16h6",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round"}))}],F=[{key:"course_materials",title:"Course Materials",desc:"Syllabus, notes, exams…",emoji:"📝"},{key:"study_mate",title:"Study Mate",desc:"Find peers to study together",emoji:"👥"},{key:"coffee_chat",title:"Coffee Chat",desc:"Casual chat / mentoring",emoji:"☕️"}],A=({leading:r,title:p,desc:k,selected:w,onClick:S})=>e.createElement("button",{type:"button",onClick:S,className:`w-full flex items-center gap-3 px-3 py-3 rounded-2xl transition text-left
        ${w?"bg-slate-50 border border-slate-300 shadow-[inset_0_0_0_1px_rgba(15,23,42,0.06)]":"hover:bg-slate-50 border border-transparent"}`},e.createElement("div",{className:"h-9 w-9 rounded-xl bg-slate-100 flex items-center justify-center shrink-0"},r),e.createElement("div",{className:"min-w-0"},e.createElement("div",{className:"font-medium text-[14.5px] text-slate-900 truncate"},p),e.createElement("div",{className:"text-[12.5px] text-slate-500 truncate"},k))),v=()=>{const w=Math.min(520,Math.max(300,E.width-32,0),window.innerWidth-32),S=Math.round(E.left+(E.width-w)/2),W=Math.round(E.bottom+8);return be.createPortal(e.createElement("div",{"data-acad-popover":!0,className:"z-50 fixed",style:{left:S,top:W,width:w}},e.createElement("div",{className:"rounded-[24px] bg-white shadow-2xl border border-slate-200 overflow-hidden"},e.createElement("div",{className:"max-h-[70vh] overflow-auto p-3"},e.createElement("div",{className:"px-1 pb-2 text-[11.5px] font-semibold text-slate-500"},m==="type"?"Type":"Seeking · choose kind"),m==="type"&&e.createElement("div",{className:"space-y-2"},R.map(c=>e.createElement(A,{key:c.key,leading:c.icon,title:c.title,desc:c.desc,selected:(i.type||"question")===c.key,onClick:()=>{if(c.key==="question"){const C={...i,type:"question",kind:""};y(C),l(C),x(!1),b("type");return}b("kind")}}))),m==="kind"&&e.createElement("div",{className:"space-y-2"},F.map(c=>e.createElement(A,{key:c.key,leading:e.createElement("span",{className:"text-base"},c.emoji),title:c.title,desc:c.desc,selected:i.type==="seeking"&&i.kind===c.key,onClick:()=>{const C={...i,type:"seeking",kind:c.key};y(C),l(C),x(!1),b("type")}})))))),document.body)},D=r=>{r.preventDefault(),l(i),x(!1),b("type")};return e.createElement("div",{className:"mx-auto mt-5 w-full max-w-[860px]",ref:h},e.createElement("form",{onSubmit:D,className:"rounded-full shadow-[0_6px_24px_rgba(0,0,0,0.06)] bg-white border border-slate-200 overflow-hidden"},e.createElement("div",{className:"grid grid-cols-[1.2fr_0.9fr_auto] items-stretch"},e.createElement("div",{className:"px-5 py-3 border-r"},e.createElement("div",{className:"text-[11px] font-semibold text-slate-500"},"Keyword"),e.createElement("input",{value:i.q||"",onChange:r=>j({q:r.target.value}),placeholder:"Search academic posts…",className:"w-full bg-transparent text-[14px] focus:outline-none"})),e.createElement("button",{type:"button",onClick:()=>{L(),x(!0),b("type")},className:"px-5 text-left py-3 border-r hover:bg-slate-50"},e.createElement("div",{className:"text-[11px] font-semibold text-slate-500"},"Type"),e.createElement("div",{className:"text-[14px]"},i.type==="seeking"?"Seeking":"General Question")),e.createElement("div",{className:"flex items-center gap-2 px-3"},e.createElement("button",{type:"button",onClick:()=>{y({q:"",type:"question",kind:""}),o==null||o()},className:"px-3 py-2 rounded-full text-sm text-slate-700 hover:bg-slate-100"},"Reset"),e.createElement("button",{type:"submit",className:"px-4 py-2 rounded-full bg-black text-white text-sm font-semibold"},"Search")))),d&&e.createElement(v,null))}function Re({title:a,setTitle:l,active:o,mode:i,lookingKind:y}){return e.createElement("div",{className:"flex items-center gap-3 p-4 border-b border-slate-200"},e.createElement("div",{className:"shrink-0 h-10 w-10 rounded-full bg-slate-200 flex items-center justify-center"},e.createElement("svg",{viewBox:"0 0 24 24",width:"24",height:"24","aria-hidden":!0},e.createElement("circle",{cx:"12",cy:"8",r:"4",fill:"#cbd5e1"}),e.createElement("path",{d:"M4 20c0-4 4-6 8-6s8 2 8 6",fill:"#cbd5e1"}))),e.createElement("div",{className:"flex-1"},e.createElement("input",{value:a,onChange:d=>l(d.target.value),placeholder:o==="general"?"Write a catchy title for your post…":i==="question"?"Ask an academic/career question…":y==="course_materials"?"Course name (e.g., STAT101)":"Seeking… (short title)",className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-[15px] font-semibold text-slate-900 focus:outline-none focus:ring-2 focus:ring-slate-900/10 focus:border-slate-900"}),e.createElement("p",{className:"mt-1 text-xs text-slate-500"},"Posting as ",e.createElement("span",{className:"font-medium"},"anonymous"))))}function De(){const a=ue(),l=fe(),{school:o}=pe(),{user:i}=ge(),y=xe(),d=o||"nyu",x=!!i,[m,b]=n.useState("academic");n.useEffect(()=>{const s=(new URLSearchParams(l.search).get("tab")||"").toLowerCase();s==="free"?b("general"):s==="academic"&&b("academic")},[l.search]);const[h,E]=n.useState({loading:!0,items:[],error:""}),[P,L]=n.useState({q:""}),[j,R]=n.useState(12),F=n.useMemo(()=>{const{q:t}=P;let s=h.items;if(t){const g=t.toLowerCase();s=s.filter(u=>{var M;return u.title.toLowerCase().includes(g)||(((M=u.raw)==null?void 0:M.content)||"").toLowerCase().includes(g)})}return s},[h.items,P]),A={loading:h.loading,error:h.error,items:F.slice(0,j),hasMore:F.length>j},[v,D]=n.useState({q:"",type:"all",kind:""}),[r,p]=n.useState({items:[],page:1,limit:20,total:0,loading:!0,loadingMore:!1,hasMore:!0,error:""}),k=n.useCallback(async(t=1,s=!1)=>{var ne,le;const g=v.q||"",u=v.type==="all"?"":v.type,M=v.type==="seeking"?v.kind:"",f=await ve({school:d,page:t,limit:r.limit,q:g,sort:"new",type:u,kind:M}),O=oe(f),se=typeof(f==null?void 0:f.total)=="number"?f.total:typeof((ne=f==null?void 0:f.paging)==null?void 0:ne.total)=="number"?f.paging.total:s?r.total:O.length,de=typeof(f==null?void 0:f.limit)=="number"?f.limit:typeof((le=f==null?void 0:f.paging)==null?void 0:le.limit)=="number"?f.paging.limit:r.limit,re=s?[...r.items,...O]:O;p({items:re,page:t,limit:de,total:se,loading:!1,loadingMore:!1,hasMore:re.length<se&&O.length>0,error:""})},[d,v,r.items,r.limit,r.total]);n.useEffect(()=>{let t=!0;return(async()=>{try{const s=await ye({school:d,limit:200,sort:"new"});if(!t)return;E({loading:!1,items:oe(s),error:""})}catch(s){if(!t)return;E({loading:!1,items:[],error:(s==null?void 0:s.message)||"Failed to load posts."})}})(),()=>{t=!1}},[d]),n.useEffect(()=>{p(t=>({...t,loading:!0,error:"",page:1})),k(1,!1).catch(t=>p(s=>({...s,loading:!1,error:(t==null?void 0:t.message)||"Failed to load posts."})))},[d,v.q,v.type,v.kind]);const w=n.useRef(null),S=n.useRef(null);n.useEffect(()=>{if(!w.current)return;const t=new IntersectionObserver(s=>{s[0].isIntersecting&&R(u=>u+10)},{rootMargin:"400px 0px 400px 0px"});return t.observe(w.current),()=>t.disconnect()},[F.length]),n.useEffect(()=>{if(!S.current)return;const t=new IntersectionObserver(s=>{s[0].isIntersecting&&r.hasMore&&!r.loading&&!r.loadingMore&&(p(u=>({...u,loadingMore:!0})),k(r.page+1,!0).catch(u=>p(M=>({...M,loadingMore:!1,error:(u==null?void 0:u.message)||"Failed to load more."}))))},{rootMargin:"600px 0px 600px 0px"});return t.observe(S.current),()=>t.disconnect()},[r.hasMore,r.loading,r.loadingMore,r.page,k]);const W=(t,s)=>{var M,f;const g=((M=t.raw)==null?void 0:M._id)||t._id||((f=t.raw)==null?void 0:f.id)||t.id;if(!g)return;const u=s==="general"?`/freeboard/${g}`:`/academic/${g}`;a(y(u))},[c,C]=n.useState(""),[q,Y]=n.useState(""),[T,U]=n.useState([]),[N,z]=n.useState("question"),[_,V]=n.useState("course_materials"),[H,X]=n.useState(""),[I,J]=n.useState([]),ce=t=>J(s=>s.includes(t)?s.filter(g=>g!==t):[...s,t]),[Z,ee]=n.useState(!1),[G,B]=n.useState({type:"",text:""}),te=x&&c.trim()&&(q.trim()||T.length),ae=x&&(N==="question"?c.trim()&&q.trim():_==="course_materials"?c.trim()&&I.length>0:c.trim()),ie=async t=>{const s=[];for(const g of t)try{const u=await he(g);(u!=null&&u.secure_url||u!=null&&u.url)&&s.push(u.secure_url||u.url)}catch{}return s},me=async t=>{if(t.preventDefault(),B({type:"",text:""}),!x){B({type:"error",text:"Login required to post."});return}ee(!0);try{if(m==="general"){if(!te)throw new Error("Missing fields");let s=[];T.length&&(s=await ie(T)),await Ee({school:d,title:c.trim(),content:q.trim(),images:s}),E(g=>({...g,items:[{_id:Math.random().toString(36).slice(2),title:c.trim(),createdAt:new Date().toISOString(),raw:{title:c.trim(),content:q.trim()}},...g.items]}))}else{if(!ae)throw new Error("Missing fields");const s={school:d};N==="question"?await K({...s,title:c.trim(),content:q.trim(),postType:"question"}):_==="course_materials"?await K({...s,title:c.trim(),content:"",postType:"seeking",kind:"course_materials",courseName:c.trim(),professor:H.trim(),materials:I,tags:["seeking","course_materials"]}):await K({...s,title:c.trim(),content:q.trim(),postType:"seeking",kind:_,tags:["seeking",_]}),p(g=>({...g,loading:!0})),await k(1,!1)}C(""),Y(""),U([]),z("question"),V("course_materials"),X(""),J([]),B({type:"success",text:"Posted!"}),setTimeout(()=>B({type:"",text:""}),1200)}catch(s){B({type:"error",text:(s==null?void 0:s.message)||"Failed to post."})}finally{ee(!1)}},$=m==="general"?{loading:A.loading,items:A.items,hasMore:A.hasMore,error:A.error}:{loading:r.loading,items:r.items,hasMore:r.hasMore,error:r.error,loadingMore:r.loadingMore};return e.createElement("div",{className:"min-h-screen",style:{background:Q.pageBg}},e.createElement("main",{className:"mx-auto max-w-6xl px-4 py-6 grid grid-cols-1 md:grid-cols-[minmax(620px,700px)_380px] gap-10"},e.createElement("section",{className:"md:col-start-1"},e.createElement(Ce,{value:m,onChange:b}),m==="general"?e.createElement(Le,{value:P,onSubmit:t=>{L(t),R(12)},onReset:()=>{L({q:""}),R(12)}}):e.createElement(Pe,{value:{q:v.q,type:v.type,kind:v.kind},onSubmit:t=>D(t),onReset:()=>D({q:"",type:"all",kind:""})}),$.loading?e.createElement("ul",{className:"mt-4 space-y-3"},Array.from({length:10}).map((t,s)=>e.createElement("li",{key:s,className:"h-16 rounded-xl bg-white/70 border border-slate-200 animate-pulse"}))):$.items.length?e.createElement(e.Fragment,null,e.createElement("ul",{className:"mt-5 mx-auto max-w-[700px] px-2"},$.items.map(t=>e.createElement("li",{key:t._id||Math.random()},e.createElement("div",{className:"mx-6 border-b border-slate-300/80"},e.createElement(Ae,{post:t,onOpenDetail:()=>W(t,m),showBadge:m==="academic"}))))),e.createElement("div",{className:"flex justify-center py-6"},e.createElement("div",{ref:m==="general"?w:S,className:"h-6 w-6 rounded-full border-2 border-dashed border-slate-300","aria-hidden":!0})),m==="academic"&&$.loadingMore&&e.createElement("div",{className:"text-center pb-8 text-slate-500 text-sm"},"Loading more…")):e.createElement("div",{className:"mx-auto max-w-[700px] text-center py-16"},e.createElement("p",{className:"text-[15px] text-slate-600"},$.error||"No posts yet."))),e.createElement("aside",{className:"md:col-start-2 md:sticky md:top-[24px] self-start"},e.createElement(Me,null,e.createElement("form",{onSubmit:me},e.createElement(Re,{title:c,setTitle:C,active:m,mode:N,lookingKind:_}),e.createElement("div",{className:"p-4 space-y-4"},m==="academic"&&e.createElement("div",{className:"flex items-center gap-2"},e.createElement("button",{type:"button",onClick:()=>z("question"),className:`px-3 py-1.5 rounded-full text-sm border ${N==="question"?"bg-slate-900 text-white border-slate-900":"bg-white text-slate-700 border-slate-300 hover:bg-slate-50"}`,"aria-pressed":N==="question"},"General question"),e.createElement("button",{type:"button",onClick:()=>z("seeking"),className:`px-3 py-1.5 rounded-full text-sm border ${N==="seeking"?"bg-slate-900 text-white border-slate-900":"bg-white text-slate-700 border-slate-300 hover:bg-slate-50"}`,"aria-pressed":N==="seeking"},"Seeking 📥"),N==="seeking"&&e.createElement("select",{value:_,onChange:t=>V(t.target.value),className:"ml-2 rounded-full border border-slate-300 px-3 py-1.5 text-sm"},e.createElement("option",{value:"course_materials"},"Course Materials"),e.createElement("option",{value:"study_mate"},"Study Mate"),e.createElement("option",{value:"coffee_chat"},"Coffee Chat"))),m==="academic"&&N==="seeking"&&_==="course_materials"?e.createElement("div",{className:"space-y-4"},e.createElement("div",null,e.createElement("label",{className:"block text-sm font-medium text-slate-700"},"Professor (optional)"),e.createElement("input",{type:"text",value:H,onChange:t=>X(t.target.value),placeholder:"Professor name (optional)",className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-slate-900/10 focus:border-slate-900"})),e.createElement("div",null,e.createElement("label",{className:"block text-sm font-medium text-slate-700 mb-2"},"Personal Materials (choose one or more)"),e.createElement("div",{className:"grid grid-cols-2 gap-2"},ke.map(t=>e.createElement("label",{key:t.key,className:`flex items-center gap-2 rounded-xl border px-3 py-2 text-sm cursor-pointer
                            ${I.includes(t.key)?"border-slate-900 bg-slate-900/5":"border-slate-300 hover:bg-slate-50"}`},e.createElement("input",{type:"checkbox",checked:I.includes(t.key),onChange:()=>ce(t.key),className:"accent-black"}),e.createElement("span",null,t.label)))),e.createElement("p",{className:"mt-2 text-xs text-slate-500"},"You can select multiple. Title will be used as course name."))):e.createElement("textarea",{value:q,onChange:t=>Y(t.target.value),placeholder:m==="general"?"Write your content here…":N==="question"?"Describe your academic/career question…":_==="study_mate"?"Describe schedule, level, topic…":"Say hello and what you'd like to chat about…",className:"w-full min-h-[120px] rounded-xl border border-slate-300 px-3 py-2 text-[14px] text-slate-800 focus:outline-none focus:ring-2 focus:ring-slate-900/10 focus:border-slate-900"}),m==="general"&&e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"block text-sm font-medium text-slate-700"},"Images"),e.createElement("input",{type:"file",accept:"image/*",multiple:!0,onChange:t=>U(Array.from(t.target.files||[])),className:"block w-full text-sm file:mr-3 file:rounded-lg file:border file:border-slate-300 file:bg-white file:px-3 file:py-2 file:text-sm file:text-slate-700 hover:file:bg-slate-50"}),!!T.length&&e.createElement("div",{className:"grid grid-cols-3 gap-2"},T.map((t,s)=>e.createElement("div",{key:s,className:"h-24 rounded-lg overflow-hidden border border-slate-200"},e.createElement("img",{src:URL.createObjectURL(t),alt:`selected-${s}`,className:"h-full w-full object-cover"}))))),e.createElement("div",{className:"flex items-center justify-between pt-2"},e.createElement("p",{className:"text-[12px] text-slate-500"},"Posting to"," ",e.createElement("strong",null,m==="general"?"Freeboard":N==="question"?"Academic":`Seeking: ${_==="course_materials"?"Course Materials":_==="study_mate"?"Study Mate":"Coffee Chat"}`),"."),e.createElement("button",{type:"submit",disabled:Z||(m==="general"?!te:!ae),className:"rounded-xl bg-black px-4 py-2 text-sm font-semibold text-white hover:bg-neutral-900 disabled:opacity-60"},Z?"Posting…":"Post")),!!G.text&&e.createElement("div",{className:`text-sm rounded-lg px-3 py-2 ${G.type==="success"?"bg-green-50 text-green-700 border border-green-200":"bg-red-50 text-red-700 border-red-200"}`},G.text)))))))}export{De as default};
