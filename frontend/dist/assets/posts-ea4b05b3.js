const a="https://api.cnapss.com/api",i=async()=>{const t=await fetch(`${a}/posts`);if(!t.ok)throw new Error("Failed to fetch posts");return t.json()},c=async t=>{const o=await fetch(`${a}/posts/${t}`),s=await o.json();if(!o.ok)throw new Error(s.message||"Failed to load post");return s},d=async({email:t,nickname:o,title:s,content:e})=>{const n=await fetch(`${a}/posts`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,nickname:o,title:s,content:e})}),r=await n.json();if(!n.ok)throw new Error(r.message||"Failed to create post");return r},p=async(t,{email:o,title:s,content:e})=>{const n=await fetch(`${a}/posts/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:o,title:s,content:e})}),r=await n.json();if(!n.ok)throw new Error(r.message||"Failed to update post");return r},h=async(t,o)=>{const s=await fetch(`${a}/posts/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:o})}),e=await s.json();if(!s.ok)throw new Error(e.message||"Failed to delete post");return e},w=async(t,o)=>{const s=await fetch(`${a}/posts/${t}/thumbs`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:o})}),e=await s.json();if(!s.ok)throw new Error(e.message||"Failed to toggle like");return e};export{c as a,d as c,h as d,i as f,w as t,p as u};
