const n="https://api.cnapss.com/api";async function i(r,t,s){const o=await fetch(t,{method:r,headers:{"Content-Type":"application/json"},...s?{body:JSON.stringify(s)}:{}}),e=await o.json().catch(()=>({}));if(!o.ok)throw new Error(e.message||`Request failed: ${o.status}`);return e}function a(r,t){const o=new URLSearchParams(Object.entries(t||{}).filter(([,e])=>e!=null)).toString();return o?`${r}?${o}`:r}const c=async r=>{if(!r)throw new Error("school is required");return i("GET",a(`${n}/posts`,{school:r}))},u=async(r,t)=>{if(!r)throw new Error("id is required");return i("GET",a(`${n}/posts/${r}`,{school:t}))},w=async({email:r,nickname:t,title:s,content:o,school:e})=>{if(!e)throw new Error("school is required");return i("POST",`${n}/posts`,{email:r,nickname:t,title:s,content:o,school:e})},d=async(r,{email:t,title:s,content:o,school:e})=>{if(!r)throw new Error("id is required");if(!e)throw new Error("school is required");return i("PUT",`${n}/posts/${r}`,{email:t,title:s,content:o,school:e})},f=async(r,t,s)=>{if(!r)throw new Error("id is required");if(!s)throw new Error("school is required");return i("DELETE",`${n}/posts/${r}`,{email:t,school:s})},h=async(r,t)=>{if(!r)throw new Error("id is required");return i("POST",`${n}/posts/${r}/thumbs`,{email:t})},E=async(r,t)=>{if(!r)throw new Error("email is required");if(!t)throw new Error("school is required");return i("GET",a(`${n}/posts/liked/${r}`,{school:t}))},p=async(r,t)=>{if(!r)throw new Error("email is required");if(!t)throw new Error("school is required");return i("GET",a(`${n}/posts/commented/${r}`,{school:t}))};export{E as a,p as b,w as c,u as d,f as e,c as f,h as t,d as u};
