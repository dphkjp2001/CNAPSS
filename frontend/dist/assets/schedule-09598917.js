import{R as s,j as b,p as $}from"./index-1bb73cb9.js";const u=["bg-red-200","bg-yellow-200","bg-green-200","bg-blue-200","bg-indigo-200","bg-purple-200","bg-pink-200","bg-orange-200","bg-teal-200"],d=["MON","TUE","WED","THU","FRI"],x=8,f=21,g=15;function y(){const a=[];for(let r=x;r<f;r++)for(let t=0;t<60;t+=g)a.push(`${r.toString().padStart(2,"0")}:${t.toString().padStart(2,"0")}`);return a}function h(a){const[r,t]=a.split(":").map(Number);return(r-x)*(60/g)+Math.floor(t/g)}function S({schedules:a,onRemove:r}){const t=y(),o=e=>d.indexOf(e),m=e=>{const n=e||"";let l=0;for(let c=0;c<n.length;c++)l=n.charCodeAt(c)+((l<<5)-l);const i=Math.abs(l)%u.length;return u[i]};return s.createElement("div",{className:"relative overflow-x-auto"},s.createElement("div",{className:"grid border border-gray-200",style:{gridTemplateColumns:`80px repeat(${d.length}, 1fr)`,gridTemplateRows:`40px repeat(${t.length}, 1fr)`}},s.createElement("div",{style:{gridColumn:1},className:"bg-gray-100 p-1 text-center text-sm font-semibold"},"Time"),d.map((e,n)=>s.createElement("div",{key:e,style:{gridColumn:n+2},className:"border-l border-gray-200 bg-gray-100 p-1 text-center text-sm font-semibold"},e)),t.map((e,n)=>s.createElement("div",{key:`time-${n}`,style:{gridColumn:1,gridRow:n+2,borderTop:e.endsWith(":00")?"1px solid #666":"1px solid #e5e7eb",borderRight:"1px solid #e5e7eb"},className:`pr-2 pt-[2px] text-right text-xs ${e.endsWith(":00")?"font-medium text-gray-800":"text-gray-400"}`},e.endsWith(":00")?e:"")),t.map((e,n)=>d.map((l,i)=>s.createElement("div",{key:`cell-${i}-${n}`,style:{gridColumn:i+2,gridRow:n+2,borderTop:e.endsWith(":00")?"1px solid #666":"1px solid #e5e7eb",borderLeft:"1px solid #f3f4f6"}}))),a.map((e,n)=>{const l=o(e.day)+2,i=h(e.start)+2,c=h(e.end)+2;return s.createElement("div",{key:`${e.day}-${e.start}-${e.class_number||n}`,style:{gridColumn:l,gridRow:`${i} / ${c}`,margin:"1px"},className:`${m(e.label)} rounded p-1 text-black shadow-sm flex`,onDoubleClick:()=>r&&e.class_number&&r(e.class_number),title:`${e.label||""} • ${e.title||""} • ${e.start}-${e.end}`},s.createElement("div",{className:"w-full leading-tight"},s.createElement("div",{className:"text-[12px] font-semibold truncate"},e.label||""),e.title?s.createElement("div",{className:"text-[11px] whitespace-normal break-words"},e.title):null,s.createElement("div",{className:"mt-0.5 text-[10px] opacity-80"},e.start,"–",e.end)))})))}const p="https://api.cnapss.com/api".replace(/\/$/,"");function N({school:a,token:r,semester:t}){const o=new URL(`${p}/${a}/schedule/my`);return o.searchParams.set("semester",t),b(o.toString(),{headers:{Authorization:`Bearer ${r}`}})}function R({school:a,token:r,semester:t,slots:o}){return $(`${p}/${a}/schedule/my`,{semester:t,slots:o},{headers:{Authorization:`Bearer ${r}`}})}function v({school:a,token:r,semester:t,members:o=[],min:m=30}){const e=new URL(`${p}/${a}/schedule/group/free`);return e.searchParams.set("semester",t),o.length&&e.searchParams.set("members",o.join(",")),e.searchParams.set("min",String(m)),b(e.toString(),{headers:{Authorization:`Bearer ${r}`}})}export{S,v as a,N as g,R as s};
