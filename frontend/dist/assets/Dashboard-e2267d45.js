import{u as fe,a as pe,b as ge,c as xe,d as be,r as i,R as e,e as he}from"./index-483aaf6b.js";import{g as ye,c as Q}from"./posts-48ca02b3.js";import{l as Ee}from"./academic-21f2ae85.js";const we=async(t,{folder:l="",tags:r=[],resourceType:s="auto"}={})=>{if(!t)throw new Error("No file to upload");const p="dpao8me5f",g="cnapss_unsigned",u=`https://api.cloudinary.com/v1_1/${p}/${s}/upload`,m=new FormData;m.append("file",t),m.append("upload_preset",g),l&&m.append("folder",l),Array.isArray(r)&&r.length&&m.append("tags",r.join(","));const x=await fetch(u,{method:"POST",body:m});if(!x.ok){const w=await x.text().catch(()=>"");throw new Error(`Cloudinary upload failed (${x.status}): ${w}`)}return await x.json()},U={pageBg:"#FAFAFA",text:"#0F172A",sub:"#64748B",primary:"#111827",pink:"#FF6B8A",red:"#FF7A70"},z={course_planning:"📚",homework_help:"🧩",exam_prep:"📝",internships:"💼",job_search:"💻",visa_opt_cpt:"🪪",housing:"🏠",scholarships:"🎓"};function oe(){return e.createElement("svg",{viewBox:"0 0 24 24",width:"24",height:"24","aria-hidden":!0},e.createElement("circle",{cx:"12",cy:"8",r:"4",fill:"#cbd5e1"}),e.createElement("path",{d:"M4 20c0-4 4-6 8-6s8 2 8 6",fill:"#cbd5e1"}))}function ke({value:t,onChange:l}){const r=t==="general",s=i.useRef(null),p=i.useRef(null),[g,u]=i.useState({w:0,x:0}),m=()=>{const x=s.current,E=p.current;if(!x||!E)return;const w=r?x:E,C=w.offsetWidth,k=w.offsetLeft-x.offsetLeft;u({w:C,x:k})};return i.useLayoutEffect(()=>{var E;m();const x=new ResizeObserver(m);return(E=s.current)!=null&&E.parentElement&&x.observe(s.current.parentElement),()=>x.disconnect()},[r]),e.createElement(e.Fragment,null,e.createElement("style",null,`
        @keyframes wiggleScale {
          0% { transform: translateY(0) scale(1); }
          25% { transform: translateY(-2px) scale(1.03); }
          50% { transform: translateY(0.5px) scale(1.01); }
          75% { transform: translateY(-1px) scale(1.02); }
          100% { transform: translateY(0) scale(1); }
        }
      `),e.createElement("div",{className:"w-full flex justify-center"},e.createElement("div",{className:"relative inline-flex items-center gap-8"},e.createElement("span",{"aria-hidden":!0,className:"absolute -bottom-2 h-[3px] rounded-full transition-transform duration-300 ease-out",style:{width:g.w||0,transform:`translateX(${g.x||0}px)`,background:`linear-gradient(90deg, ${U.pink}, ${U.red})`}}),e.createElement("button",{ref:s,type:"button",onClick:()=>l("general"),className:`text-[22px] font-bold flex items-center gap-2 transition-all ${r?"text-slate-900":"text-slate-400 hover:text-slate-600"} ${r?"animate-[wiggleScale_360ms_ease-in-out]":""}`,"aria-pressed":r},e.createElement("span",{"aria-hidden":!0},"💬"),e.createElement("span",null,"Freeboard")),e.createElement("button",{ref:p,type:"button",onClick:()=>l("academic"),className:`text-[22px] font-bold flex items-center gap-2 transition-all ${r?"text-slate-400 hover:text-slate-600":"text-slate-900 animate-[wiggleScale_360ms_ease-in-out]"}`,"aria-pressed":!r},e.createElement("span",{"aria-hidden":!0},"🎓"),e.createElement("span",null,"Academic")))))}function ve({children:t}){return e.createElement("div",{className:"rounded-2xl bg-white shadow-lg overflow-hidden"},t)}function Ne(t){return t?Array.isArray(t)?t:Array.isArray(t.posts)?t.posts:Array.isArray(t.items)?t.items:Array.isArray(t.data)?t.data:Array.isArray(t.results)?t.results:Array.isArray(t.list)?t.list:Array.isArray(t.docs)?t.docs:t.data&&Array.isArray(t.data.posts)?t.data.posts:t.data&&Array.isArray(t.data.items)?t.data.items:[]:[]}function ne(t){return Ne(t).map(r=>{const s=r._id||r.id||r.postId||r.slug,p=r.title||(typeof r.content=="string"?r.content.slice(0,80):"Untitled"),g=r.createdAt||r.updatedAt||r.time||r.date||new Date().toISOString();return{_id:s,title:p,createdAt:g,raw:r}})}function _e({rows:t=8}){return e.createElement("ul",{className:"mt-4 space-y-3"},Array.from({length:t}).map((l,r)=>e.createElement("li",{key:r,className:"h-16 rounded-xl bg-white/70 border border-slate-200 animate-pulse"})))}function Ae(t){var p,g;const l=t.raw||{},r=(l.mode||l.postType||l.type||(l.lookingFor||l.isLookingFor?"looking_for":"general")||"").toLowerCase(),s=(g=l.kind||l.category||((p=l==null?void 0:l.meta)==null?void 0:p.kind)||(Array.isArray(l.tags)?l.tags.find(u=>/materials|group|coffee|planning|homework|exam|intern|job|visa|housing|scholar/i.test(u)):"")||"")==null?void 0:g.toLowerCase();return r==="looking_for"?s.includes("group")?"👥":s.includes("coffee")?"☕️":"📝":s&&z[s]?z[s]:"❓"}function Ce({post:t,onOpenDetail:l,showBadge:r}){const s=r?Ae(t):null;return e.createElement("button",{type:"button",onClick:l,className:"w-full text-left py-4 px-3 hover:bg-slate-50 transition"},e.createElement("div",{className:"flex items-center gap-3"},s&&e.createElement("span",{className:"text-[14px] w-5 text-center"},s),e.createElement("div",{className:"h-8 w-8 rounded-full bg-slate-200 flex items-center justify-center"},e.createElement(oe,null)),e.createElement("div",{className:"min-w-0"},e.createElement("div",{className:"truncate font-semibold text-slate-900"},t.title),e.createElement("div",{className:"text-xs text-slate-500"},"Posted by anonymous • ",new Date(t.createdAt).toLocaleString()))))}function Se({value:t,onSubmit:l,onReset:r}){const[s,p]=i.useState(t);i.useEffect(()=>p(t),[t]);const g=u=>{u.preventDefault(),l(s)};return e.createElement("form",{onSubmit:g,className:"mx-auto mt-5 w-full max-w-[700px] rounded-full shadow-[0_6px_24px_rgba(0,0,0,0.06)] bg-white border border-slate-200 overflow-hidden"},e.createElement("div",{className:"grid grid-cols-[1fr_auto] items-stretch"},e.createElement("div",{className:"px-5 py-3"},e.createElement("div",{className:"text-[11px] font-semibold text-slate-500"},"Keyword"),e.createElement("input",{value:s.q||"",onChange:u=>p({q:u.target.value}),placeholder:"Search posts…",className:"w-full bg-transparent text-[14px] focus:outline-none"})),e.createElement("div",{className:"flex items-center gap-2 px-3"},e.createElement("button",{type:"button",onClick:()=>r(),className:"px-3 py-2 rounded-full text-sm text-slate-700 hover:bg-slate-100"},"Reset"),e.createElement("button",{type:"submit",className:"px-4 py-2 rounded-full bg-black text-white text-sm font-semibold"},"Search"))))}function Le({value:t,onSubmit:l,onReset:r}){const[s,p]=i.useState(t),[g,u]=i.useState(!1),m=i.useRef(null),[x,E]=i.useState({left:0,top:0,width:0,bottom:0});i.useEffect(()=>p(t),[t]);const w=()=>{const a=m.current;if(!a)return;const f=a.getBoundingClientRect();E({left:f.left,top:f.top,width:f.width,bottom:f.bottom})};i.useLayoutEffect(()=>{w();const a=()=>w();return window.addEventListener("resize",a),window.addEventListener("scroll",a,!0),()=>{window.removeEventListener("resize",a),window.removeEventListener("scroll",a,!0)}},[]),i.useEffect(()=>{const a=L=>{var j,h;!g||m.current&&m.current.contains(L.target)||(h=(j=L.target).closest)!=null&&h.call(j,"[data-acad-popover]")||u(!1)},f=L=>L.key==="Escape"&&u(!1);return document.addEventListener("click",a),document.addEventListener("keydown",f),()=>{document.removeEventListener("click",a),document.removeEventListener("keydown",f)}},[g]);const C=a=>{a.preventDefault(),l(s),u(!1)},k=a=>p(f=>({...f,...a})),S=()=>he.createPortal(e.createElement("div",{"data-acad-popover":!0,className:"z-50 fixed",style:{left:Math.round(x.left),top:Math.round(x.bottom+8),width:Math.round(x.width),maxWidth:860}},e.createElement("div",{className:"rounded-3xl bg-white shadow-2xl border border-slate-200 overflow-hidden"},e.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-[280px_1fr]"},e.createElement("div",{className:"p-4 border-b sm:border-b-0 sm:border-r border-slate-200"},e.createElement("div",{className:"text-[12px] font-semibold text-slate-500 mb-2"},"Type"),e.createElement("div",{className:"flex sm:block"},[{key:"all",label:"All"},{key:"question",label:"Question ﹖"},{key:"looking_for",label:"Looking for"}].map(a=>{const f=s.type===a.key||!s.type&&a.key==="all";return e.createElement("button",{key:a.key,type:"button",onClick:()=>k({type:a.key,kind:a.key==="looking_for"?s.kind&&["course_materials","study_group","coffee_chat"].includes(s.kind)?s.kind:"course_materials":""}),className:`w-full text-left px-3 py-2 rounded-xl text-[14px] transition ${f?"bg-slate-900 text-white":"hover:bg-slate-50 text-slate-800"}`},a.label)}))),e.createElement("div",{className:"p-4"},s.type==="looking_for"?e.createElement(e.Fragment,null,e.createElement("div",{className:"text-[12px] font-semibold text-slate-500 mb-2"},"Looking for · kind"),[{key:"course_materials",label:"Course materials",emoji:"📝",desc:"Syllabus, notes, exams…"},{key:"study_group",label:"Study group",emoji:"👥",desc:"Find peers to study together"},{key:"coffee_chat",label:"Coffee chat",emoji:"☕️",desc:"Casual chat / mentoring"}].map(a=>{const f=s.kind===a.key;return e.createElement("button",{key:a.key,type:"button",onClick:()=>k({kind:a.key,type:"looking_for"}),className:`w-full flex items-start gap-3 rounded-2xl border px-3 py-3 mb-2 text-left transition ${f?"border-slate-900 bg-slate-50":"border-slate-300 hover:bg-slate-50"}`},e.createElement("span",{className:"text-xl leading-6"},a.emoji),e.createElement("span",null,e.createElement("div",{className:"font-medium"},a.label),e.createElement("div",{className:"text-[12px] text-slate-500"},a.desc)))}),e.createElement("div",{className:"pt-2 flex justify-end"},e.createElement("button",{type:"button",onClick:()=>{r(),u(!1)},className:"px-3 py-2 rounded-xl text-sm text-slate-700 hover:bg-slate-100 mr-2"},"Reset"),e.createElement("button",{type:"button",onClick:()=>{l(s),u(!1)},className:"px-4 py-2 rounded-xl bg-black text-white text-sm font-semibold"},"Apply"))):s.type==="question"?e.createElement(e.Fragment,null,e.createElement("div",{className:"text-[12px] font-semibold text-slate-500 mb-2"},"Question · topic"),e.createElement("div",{className:"max-h-[280px] overflow-auto pr-1"},[{key:"course_planning",label:"Course planning",emoji:"📚",desc:"What to take / prereqs"},{key:"homework_help",label:"Homework help",emoji:"🧩",desc:"Concepts & hints (no full answers)"},{key:"exam_prep",label:"Exam prep",emoji:"📝",desc:"Study strategies / past exams"},{key:"internships",label:"Internships",emoji:"💼",desc:"Applications / referrals / experiences"},{key:"job_search",label:"Job search",emoji:"💻",desc:"Interviews / resume / networking"},{key:"visa_opt_cpt",label:"Visa · OPT · CPT",emoji:"🪪",desc:"International student topics"},{key:"housing",label:"Housing",emoji:"🏠",desc:"On/off campus housing"},{key:"scholarships",label:"Scholarships",emoji:"🎓",desc:"Aid / scholarships / grants"}].map(a=>{const f=s.kind===a.key;return e.createElement("button",{key:a.key,type:"button",onClick:()=>k({kind:a.key,type:"question"}),className:`w-full flex items-start gap-3 rounded-2xl border px-3 py-3 mb-2 text-left transition ${f?"border-slate-900 bg-slate-50":"border-slate-300 hover:bg-slate-50"}`},e.createElement("span",{className:"text-xl leading-6"},a.emoji),e.createElement("span",null,e.createElement("div",{className:"font-medium"},a.label),e.createElement("div",{className:"text-[12px] text-slate-500"},a.desc)))})),e.createElement("div",{className:"pt-2 flex justify-end"},e.createElement("button",{type:"button",onClick:()=>{r(),u(!1)},className:"px-3 py-2 rounded-xl text-sm text-slate-700 hover:bg-slate-100 mr-2"},"Reset"),e.createElement("button",{type:"button",onClick:()=>{l(s),u(!1)},className:"px-4 py-2 rounded-xl bg-black text-white text-sm font-semibold"},"Apply"))):e.createElement("div",{className:"text-[13px] text-slate-500"},"Choose a type on the left to refine your search."))))),document.body);return e.createElement("div",{className:"mx-auto mt-5 w-full max-w={[860]}px",ref:m},e.createElement("form",{onSubmit:C,className:"rounded-full shadow-[0_6px_24px_rgba(0,0,0,0.06)] bg-white border border-slate-200 overflow-hidden"},e.createElement("div",{className:"grid grid-cols-[1.2fr_0.9fr_auto] items-stretch"},e.createElement("div",{className:"px-5 py-3 border-r"},e.createElement("div",{className:"text-[11px] font-semibold text-slate-500"},"Keyword"),e.createElement("input",{value:s.q||"",onChange:a=>k({q:a.target.value}),placeholder:"Search academic posts…",className:"w-full bg-transparent text-[14px] focus:outline-none"})),e.createElement("button",{type:"button",onClick:()=>{w(),u(!0)},className:"px-5 text-left py-3 border-r hover:bg-slate-50"},e.createElement("div",{className:"text-[11px] font-semibold text-slate-500"},"Type"),e.createElement("div",{className:"text-[14px]"},s.type==="looking_for"?"Looking for":s.type==="question"?"Question":"All")),e.createElement("div",{className:"flex items-center gap-2 px-3"},e.createElement("button",{type:"button",onClick:()=>{r(),u(!1)},className:"px-3 py-2 rounded-full text-sm text-slate-700 hover:bg-slate-100"},"Reset"),e.createElement("button",{type:"submit",className:"px-4 py-2 rounded-full bg-black text-white text-sm font-semibold"},"Search")))),g&&e.createElement(S,null))}function Fe(){const t=fe(),l=pe(),{school:r}=ge(),{user:s}=xe(),p=be(),g=!!s,u=r||"nyu",[m,x]=i.useState("general"),[E,w]=i.useState({loading:!0,items:[],error:""}),[C,k]=i.useState({loading:!0,items:[],error:""}),[S,a]=i.useState(""),[f,L]=i.useState(""),[P,j]=i.useState([]),[h,B]=i.useState("question"),[q,G]=i.useState("course_materials"),[F,H]=i.useState("course_planning"),[W,Y]=i.useState(!1),[O,R]=i.useState({type:"",text:""});i.useEffect(()=>{const o=(new URLSearchParams(l.search).get("tab")||"").toLowerCase();o==="free"?x("general"):(o==="academic"||o==="career")&&x("academic")},[l.search]),i.useEffect(()=>{let n=!0;async function o(){w({loading:!0,items:[],error:""}),k({loading:!0,items:[],error:""});try{const[b,d]=await Promise.all([ye({school:u,limit:50,sort:"new"}),Ee({school:u,page:1,limit:50,sort:"recent"})]);if(!n)return;const c=ne(b),y=ne(d);w({loading:!1,items:c,error:c.length?"":"No posts yet."}),k({loading:!1,items:y,error:y.length?"":"No posts yet."})}catch(b){if(!n)return;const d=(b==null?void 0:b.message)||"Failed to load posts.";w({loading:!1,items:[],error:d}),k({loading:!1,items:[],error:d})}}return o(),()=>{n=!1}},[u]);const[M,J]=i.useState({q:""}),[$,V]=i.useState({q:"",type:"all",kind:""}),le=i.useMemo(()=>{const{q:n}=M;let o=E.items;if(n){const b=n.toLowerCase();o=o.filter(d=>{var c;return d.title.toLowerCase().includes(b)||(((c=d.raw)==null?void 0:c.content)||"").toLowerCase().includes(b)})}return o},[E.items,M]),ce=i.useMemo(()=>{const{q:n,type:o,kind:b}=$;let d=C.items;if(n){const c=n.toLowerCase();d=d.filter(y=>{var v;return y.title.toLowerCase().includes(c)||(((v=y.raw)==null?void 0:v.content)||"").toLowerCase().includes(c)})}return o!=="all"&&(d=d.filter(c=>{var v,N,_,A;const y=((v=c.raw)==null?void 0:v.mode)||((N=c.raw)==null?void 0:N.postType)||((_=c.raw)==null?void 0:_.type)||((A=c.raw)!=null&&A.lookingFor?"looking_for":"general");return String(y).toLowerCase()===o})),o==="looking_for"&&b&&(d=d.filter(c=>{var v,N,_,A,D;return(((v=c.raw)==null?void 0:v.kind)||((N=c.raw)==null?void 0:N.category)||((A=(_=c.raw)==null?void 0:_.meta)==null?void 0:A.kind)||(Array.isArray((D=c.raw)==null?void 0:D.tags)?c.raw.tags.join(" "):"")||"").toLowerCase().includes(b.replace("_"," "))})),o==="question"&&b&&(d=d.filter(c=>{var N,_,A,D,te,ae,re,se;const y=[(N=c.raw)==null?void 0:N.topic,(_=c.raw)==null?void 0:_.category,(A=c.raw)==null?void 0:A.kind,(te=(D=c.raw)==null?void 0:D.meta)==null?void 0:te.topic,(re=(ae=c.raw)==null?void 0:ae.meta)==null?void 0:re.category,...Array.isArray((se=c.raw)==null?void 0:se.tags)?c.raw.tags:[]].filter(Boolean).join(" ").toLowerCase(),v=String(b).replace(/_/g," ").toLowerCase();return y.includes(v)})),d},[C.items,$]),T=m==="general"?{...E,items:le}:{...C,items:ce},X=n=>t(p(n)),I=()=>X("/dashboard?tab=free"),K=()=>X("/dashboard?tab=academic"),ie=n=>{var d,c,y;const o=((d=n.raw)==null?void 0:d.slug)||n._id||((c=n.raw)==null?void 0:c._id)||((y=n.raw)==null?void 0:y.id)||n.id;if(!o)return m==="general"?I():K();const b=p(m==="general"?`/freeboard/${o}`:`/academic/${o}`);t(b)},Z=g&&S.trim()&&(f.trim()||P.length),ee=g&&S.trim()&&(h==="question"?f.trim():!0),me=async n=>{const o=[];for(const b of n)try{const d=await we(b);(d!=null&&d.secure_url||d!=null&&d.url)&&o.push(d.secure_url||d.url)}catch{}return o},de=async n=>{if(n.preventDefault(),R({type:"",text:""}),!g){R({type:"error",text:"Login required to post."});return}Y(!0);try{if(m==="general"){if(!Z)throw new Error("Missing fields");let o=[];P.length&&(o=await me(P)),await Q({school:u,board:"freeboard",title:S.trim(),content:f.trim(),images:o}),R({type:"success",text:"Posted to Freeboard! Redirecting…"}),setTimeout(I,400)}else{if(!ee)throw new Error("Missing fields");const o={school:u,board:"academic",title:S.trim()};h==="question"?await Q({...o,content:f.trim(),mode:"general",type:"question",kind:F,tags:["academic","question",F]}):await Q({...o,content:f.trim(),mode:"looking_for",type:"looking_for",lookingFor:!0,kind:q,tags:["academic","looking_for",q]}),R({type:"success",text:"Posted to Academic! Redirecting…"}),setTimeout(K,400)}a(""),L(""),j([]),B("question"),G("course_materials"),H("course_planning")}catch(o){R({type:"error",text:(o==null?void 0:o.message)||"Failed to post. Please check required fields."})}finally{Y(!1)}},ue=e.createElement("div",{className:"flex items-center gap-3 p-4 border-b border-slate-200"},e.createElement("div",{className:"shrink-0 h-10 w-10 rounded-full bg-slate-200 flex items-center justify-center"},e.createElement(oe,null)),e.createElement("div",{className:"flex-1"},e.createElement("input",{value:S,onChange:n=>a(n.target.value),placeholder:m==="general"?"Write a catchy title for your post…":h==="question"?"Ask an academic/career question…":"Looking for… (short title)",className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-[15px] font-semibold text-slate-900 focus:outline-none focus:ring-2 focus:ring-slate-900/10 focus:border-slate-900"}),e.createElement("p",{className:"mt-1 text-xs text-slate-500"},"Posting as ",e.createElement("span",{className:"font-medium"},"anonymous"))));return e.createElement("div",{className:"min-h-screen",style:{background:U.pageBg}},e.createElement("main",{className:"mx-auto max-w-6xl px-4 py-6 grid grid-cols-1 md:grid-cols-[minmax(620px,700px)_380px] gap-10"},e.createElement("section",{className:"md:col-start-1"},e.createElement(ke,{value:m,onChange:x}),m==="general"?e.createElement(Se,{value:M,onSubmit:J,onReset:()=>J({q:""})}):e.createElement(Le,{value:{q:$.q,type:$.type,kind:$.kind},onSubmit:V,onReset:()=>V({q:"",type:"all",kind:""})}),T.loading?e.createElement(_e,{rows:10}):T.items.length?e.createElement("ul",{className:"mt-5 mx-auto max-w-[700px] px-2"},T.items.map(n=>e.createElement("li",{key:n._id||Math.random()},e.createElement("div",{className:"mx-6 border-b border-slate-300/80"},e.createElement(Ce,{post:n,onOpenDetail:()=>ie(n),showBadge:m==="academic"}))))):e.createElement("div",{className:"mx-auto max-w-[700px] text-center py-16"},e.createElement("p",{className:"text-[15px] text-slate-600"},T.error||"No posts yet."),e.createElement("button",{type:"button",onClick:m==="general"?I:K,className:"mt-4 px-4 py-2 rounded-xl bg-black text-white text-[14px] font-semibold"},"Open ",m==="general"?"Freeboard":"Academic Board"))),e.createElement("aside",{className:"md:col-start-2 md:sticky md:top-[24px] self-start"},e.createElement(ve,null,e.createElement("form",{onSubmit:de},ue,e.createElement("div",{className:"p-4 space-y-4"},m==="academic"&&e.createElement("div",{className:"flex items-center gap-2"},e.createElement("button",{type:"button",onClick:()=>B("question"),className:`px-3 py-1.5 rounded-full text-sm border ${h==="question"?"bg-slate-900 text-white border-slate-900":"bg-white text-slate-700 border-slate-300 hover:bg-slate-50"}`,"aria-pressed":h==="question"},"General question"),e.createElement("button",{type:"button",onClick:()=>B("looking_for"),className:`px-3 py-1.5 rounded-full text-sm border ${h==="looking_for"?"bg-slate-900 text-white border-slate-900":"bg-white text-slate-700 border-slate-300 hover:bg-slate-50"}`,"aria-pressed":h==="looking_for"},"Looking for 📥"),h==="looking_for"&&e.createElement("select",{value:q,onChange:n=>G(n.target.value),className:"ml-2 rounded-full border border-slate-300 px-3 py-1.5 text-sm"},e.createElement("option",{value:"course_materials"},"Course materials"),e.createElement("option",{value:"study_group"},"Study group"),e.createElement("option",{value:"coffee_chat"},"Coffee chat")),h==="question"&&e.createElement("select",{value:F,onChange:n=>H(n.target.value),className:"ml-2 rounded-full border border-slate-300 px-3 py-1.5 text-sm"},e.createElement("option",{value:"course_planning"},"📚 Course planning"),e.createElement("option",{value:"homework_help"},"🧩 Homework help"),e.createElement("option",{value:"exam_prep"},"📝 Exam prep"),e.createElement("option",{value:"internships"},"💼 Internships"),e.createElement("option",{value:"job_search"},"💻 Job search"),e.createElement("option",{value:"visa_opt_cpt"},"🪪 Visa / OPT / CPT"),e.createElement("option",{value:"housing"},"🏠 Housing"),e.createElement("option",{value:"scholarships"},"🎓 Scholarships"))),e.createElement("textarea",{value:f,onChange:n=>L(n.target.value),placeholder:m==="general"?"Write your content here…":h==="question"?"Describe your academic/career question…":q==="course_materials"?"Describe what you need or any context…":q==="study_group"?"Describe schedule, level, topic…":"Say hello and what you'd like to chat about…",className:"w-full min-h-[120px] rounded-xl border border-slate-300 px-3 py-2 text-[14px] text-slate-800 focus:outline-none focus:ring-2 focus:ring-slate-900/10 focus:border-slate-900"}),m==="general"&&e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"block text-sm font-medium text-slate-700"},"Images"),e.createElement("input",{type:"file",accept:"image/*",multiple:!0,onChange:n=>j(Array.from(n.target.files||[])),className:"block w-full text-sm file:mr-3 file:rounded-lg file:border file:border-slate-300 file:bg-white file:px-3 file:py-2 file:text-sm file:text-slate-700 hover:file:bg-slate-50"}),!!P.length&&e.createElement("div",{className:"grid grid-cols-3 gap-2"},P.map((n,o)=>e.createElement("div",{key:o,className:"h-24 rounded-lg overflow-hidden border border-slate-200"},e.createElement("img",{src:URL.createObjectURL(n),alt:`selected-${o}`,className:"h-full w-full object-cover"}))))),e.createElement("div",{className:"flex items-center justify-between pt-2"},e.createElement("p",{className:"text-[12px] text-slate-500"},"Posting to"," ",e.createElement("strong",null,m==="general"?"Freeboard":h==="question"?`Academic • ${z[F]||"❓"} ${F.replace(/_/g," ")}`:`Looking for: ${q==="course_materials"?"Course materials":q==="study_group"?"Study group":"Coffee chat"}`),"."),e.createElement("button",{type:"submit",disabled:W||(m==="general"?!Z:!ee),className:"rounded-xl bg-black px-4 py-2 text-sm font-semibold text-white hover:bg-neutral-900 disabled:opacity-60"},W?"Posting…":"Post")),!!O.text&&e.createElement("div",{className:`text-sm rounded-lg px-3 py-2 ${O.type==="success"?"bg-green-50 text-green-700 border border-green-200":"bg-red-50 text-red-700 border border-red-200"}`},O.text)))))))}export{Fe as default};
