import{h as o,p as i,i as p,j as l}from"./index-1bcd2688.js";const r="https://api.cnapss.com/api".replace(/\/$/,"");async function $(n,t){try{return await o(n)}catch(s){const a=String((s==null?void 0:s.message)||s||"");if(((s==null?void 0:s.status)||(a.includes("404")?404:0))===404&&t)return o(t);throw s}}async function m({school:n,page:t=1,limit:s=20,q:a="",sort:c="new"}){const e=new URL(`${r}/${n}/public/posts`),u=new URL(`${r}/public/${n}/posts`);return t&&e.searchParams.set("page",String(t)),s&&e.searchParams.set("limit",String(s)),a&&e.searchParams.set("q",a),c&&e.searchParams.set("sort",c),u.search=e.search,$(e,u)}async function P({school:n,id:t}){const s=`${r}/${n}/public/posts/${t}`,a=`${r}/public/${n}/posts/${t}`;return $(s,a)}async function g({school:n,page:t=1,limit:s=20,q:a="",sort:c="new"}={}){const e=new URL(`${r}/${n}/posts`);return t&&e.searchParams.set("page",String(t)),s&&e.searchParams.set("limit",String(s)),a&&e.searchParams.set("q",a),c&&e.searchParams.set("sort",c),o(e)}async function h({school:n,id:t}){const s=`${r}/${n}/posts/${t}`;return o(s)}async function y({school:n,title:t,content:s}){const a=`${r}/${n}/posts`;return i(a,{title:t,content:s})}async function b({school:n,id:t,title:s,content:a}){const c=`${r}/${n}/posts/${t}`;return p(c,{title:s,content:a})}async function d({school:n,id:t}){const s=`${r}/${n}/posts/${t}`;return l(s)}async function w({school:n,id:t}){const s=`${r}/${n}/posts/${t}/thumbs`;return i(s,{})}async function R({school:n,email:t}){const s=`${r}/${n}/posts/liked/${encodeURIComponent(t)}`;return o(s)}async function U({school:n,email:t}){const s=`${r}/${n}/posts/commented/${encodeURIComponent(t)}`;return o(s)}export{R as a,U as b,y as c,h as d,P as e,d as f,m as g,g as l,w as t,b as u};
